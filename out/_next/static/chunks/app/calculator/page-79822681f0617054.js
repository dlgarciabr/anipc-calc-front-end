(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[179],{8456:(e,i,t)=>{var l={"./2002":[8062,833],"./2002.ts":[8062,833]};function a(e){if(!t.o(l,e))return Promise.resolve().then(()=>{var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i});var i=l[e],a=i[0];return t.e(i[1]).then(()=>t(a))}a.keys=()=>Object.keys(l),a.id=8456,e.exports=a},8528:(e,i,t)=>{Promise.resolve().then(t.bind(t,6428))},6428:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>ee});var l=t(7437),a=t(2265);let s=e=>(0,l.jsx)(l.Fragment,{children:e.children});var r=t(7818),o=t(3073),u=t.n(o),n=t(5984),d=t(4792),c=t(2960),m=t(5510),p=t(6548);let F=e=>{let i=(0,c.Z)();return(0,l.jsx)(m.Z,{variant:"progress",steps:e.totalSteps,position:"static",activeStep:e.activeStep,nextButton:(0,l.jsxs)(p.Z,{size:"small",onClick:e.handleNext,disabled:e.activeStep>=e.totalSteps-1,children:["PR\xd3XIMO","rtl"===i.direction?(0,l.jsx)(n.Z,{}):(0,l.jsx)(d.Z,{})]}),backButton:(0,l.jsxs)(p.Z,{size:"small",onClick:e.handleBack,disabled:0===e.activeStep,children:["rtl"===i.direction?(0,l.jsx)(d.Z,{}):(0,l.jsx)(n.Z,{}),"VOLTAR"]})})};var g=t(6007),x=t(8472);let h={getForm:!1,calculate:!1},D={ID:"ANIPC",Title:"Calculadora de Pegada de Carbono",Desc:"Esta ferramenta de c\xe1lculo de emiss\xf5es de Gases com Efeito de Estufa (GEE) enquadra-se no \xe2mbito do projeto Paper4Neutral - Roteiro para a descarboniza\xe7\xe3o do setor do papel e cart\xe3o desenvolvido pela ANIPC - Associa\xe7\xe3o Nacional dos Industriais do Papel e Cart\xe3o.",Groups:[{ID:1e3,Name:"Dados da Empresa",Desc:"Dados relativos \xe0 empresa",Fields:[{ID:1001,Name:"Ano de C\xe1lculo",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["2021","2022","2023"],CustomValue:!1,Regex:""},{ID:1002,Name:"Nome da Empresa",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,100}$"},{ID:1003,Name:"CAE Principal",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["17110 - Fabrica\xe7\xe3o de pasta","17120 - Fabrica\xe7\xe3o de papel e de cart\xe3o (excepto canelado)","17211 - Fabrica\xe7\xe3o de papel e de cart\xe3o canelados (inclui embalagens)","17212 - Fabrica\xe7\xe3o de outras embalagens de papel e de cart\xe3o","17220 - Fabrica\xe7\xe3o de artigos de papel para uso dom\xe9stico e sanit\xe1rio","17230 - Fabrica\xe7\xe3o de artigos de papel para papelaria","17240 - Fabrica\xe7\xe3o de papel de parede","17290 - Fabrica\xe7\xe3o de outros artigos de pasta de papel, de papel e de cart\xe3o"],CustomValue:!0,Regex:"^[0-9]{5}$"},{ID:1004,Name:"Fileira",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["Fabricantes","Transformadores","Retomadores","Outro"],CustomValue:!1,Regex:""},{ID:1005,Name:"Unidade de Produ\xe7\xe3o",Desc:"Indicar a unidade de produ\xe7\xe3o aplic\xe1vel (e.g., ton., m2)",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,10}$"},{ID:1006,Name:"Produ\xe7\xe3o Anual",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:1007,Name:"Nome do Respons\xe1vel",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,50}$"},{ID:1008,Name:"E-mail do Respons\xe1vel",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^(?=.{1,64}@)[\\w\\-!#$%&'*+\\/=?^_`{|}~]+(\\.[\\w\\-!#$%&'*+\\/=?^_`{|}~]+)*@(\\w+(-+\\w+)*\\.)*(?=.{2,4}$)[a-zA-Z]+(-+[a-zA-Z]+)*$"}]},{ID:2e3,Name:"Consumos de Energia El\xe9trica",Desc:"",Fields:[{ID:2001,Name:"Faturada",Desc:"",Units:[{Unit:"KWh"}],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2002,Name:"Renov\xe1vel (Garantias de Origem)",Desc:'Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de "eletricidade verde" dever\xe1 basear-se em evid\xeancias da respetiva contrata\xe7\xe3o junto do(s) comercializador(es) de energia (incluindo mobilidade el\xe9trica) e/ou de Certificados de Garantia de Origem.',Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2003,Name:"Renov\xe1vel (autoconsumo)",Desc:"Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de eletricidade renov\xe1vel autoconsumida, excluindo a energia excedente.",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2004,Name:"Mobilidade El\xe9trica",Desc:"Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de eletricidade faturada decorrente dos carregamentos efetuados em postos de carregamento fora da empresa.",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2005,Name:"Outra",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:3e3,Name:"Combust\xe3o Estacion\xe1ria",Desc:"",Fields:[{ID:3001,Name:"Biomassa (certificada)",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3002,Name:"Biomassa (n\xe3o certificada)",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3003,Name:"G\xe1s natural",Desc:"",Units:[{Unit:"KWh"},{Unit:"m3"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3004,Name:"G\xe1s propano",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3005,Name:"Fuel\xf3leo",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3006,Name:"Gas\xf3leo (aquecimento)",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3007,Name:"Outro (Renov\xe1vel)",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:4e3,Name:"Combust\xe3o M\xf3vel (Frota)",Desc:"",Fields:[{ID:4001,Name:"Gas\xf3leo",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4002,Name:"Gasolina",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4003,Name:"G\xe1s Propano",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4004,Name:"Outro (Renov\xe1vel)",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:5e3,Name:"Consumo de Solventes",Desc:"",Fields:[{ID:5001,Name:"Solventes",Desc:"Dever\xe1 ser indicado o consumo de solventes calculado de acordo com a metodologia disposta na legisla\xe7\xe3o e regulamenta\xe7\xe3o aplic\xe1veis. Caso n\xe3o existam consumos de solventes para o ano em an\xe1lise, dever\xe1 ser selecionada a op\xe7\xe3o N/A.",Units:[{Unit:"Kg"}],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["N/A"],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:6e3,Name:"Consumo de Flu\xeddos Refrigerantes",Desc:"",Fields:[{ID:6001,Name:"HFC-125",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6002,Name:"HFC-134",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6003,Name:"HFC-143",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6004,Name:"HFC-143a",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6005,Name:"HFC-152a",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6006,Name:"HFC-227ea",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6007,Name:"HFC-23",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6008,Name:"HFC-236fa",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6009,Name:"HFC-245fa",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6010,Name:"HFC-41",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6011,Name:"HFC-43-I0mee",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6012,Name:"R134a",Desc:"Designado como HFC-134a",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6013,Name:"R32",Desc:"Designado como HFC-32",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6014,Name:"R404A",Desc:"Blend 52:44:4 [HFC-143a, HFC-125, HFC-134a]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6015,Name:"R407C",Desc:"Blend 23:25:52 [HFC-32, HFC-125, HFC-134a]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6016,Name:"R410A",Desc:"Blend 50:50 [HFC-32, HFC-125]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6017,Name:"R427A",Desc:"Blend 15:25:10:50 [HFC-32, HFC-125, HFC-134a, HFC-143]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6018,Name:"PFC-116 (Perfluoroethane)",Desc:"C2F6",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6019,Name:"PFC-14 (Perfluoromethane)",Desc:"CF4",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6020,Name:"PFC-218 (Perfluoropropane)",Desc:"C3F8",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6021,Name:"PFC-31-10 (Perfluorobutane)",Desc:"C4F10",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6022,Name:"PFC-318 (Perfluorocyclobutane)",Desc:"c-C4F8",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6023,Name:"PFC-41-12 (Perfluoropentane)",Desc:"C5F12",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6024,Name:"PFC-51-14 (Perfluorohexane)",Desc:"C6F14",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6025,Name:"SF6 (Sulphur hexafluoride)",Desc:"SF6",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"SF6 (Sulphur Hexafluoride)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]}]},C=async e=>h.getForm?Promise.resolve(D):(await (0,x.Z)({method:"get",url:"https://calc.ghg-impact.eu/form.php?id=".concat(e)})).data,v=async e=>(h.calculate,(await (0,x.Z)({method:"post",url:"https://calc.ghg-impact.eu/calc.php",data:e})).data);var I=t(6858),f=t(2434),R=t(8644),V=t(7590),j=t(9217),M=t(1651),U=t(437),b=t(1655),Z=t(335),N=t(511),G=t(8165),y=t(7913),H=t(3657);let q=e=>{let i=JSON.stringify(e),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(i)),t.setAttribute("download","calculadora.json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},S=async e=>{var i;if(!(null===(i=e.target.files)||void 0===i?void 0:i.length))return{};let t=e.target.files[0];return"application/json"!=t.type?{errorMessage:"Ficheiro inv\xe1lido"}:{data:await new Response(t).json()}};var $=t(152),w=t(8356);let P=e=>{let{group:i}=e,{setInput:t,getInput:s,errors:r,inputGroups:o,deleteInput:u}=(0,g.Y)(e=>e),[n,d]=(0,a.useState)(i.Fields),[c,m]=(0,a.useState)([]),F=(e,l)=>{1===e.Units.length?t(i.ID,{id:e.ID,value:l,unit:e.Units[0].Unit}):t(i.ID,{id:e.ID,value:l})},x=e=>{let t=i.Fields.find(i=>i.ID===e);t&&(d(n.filter(i=>i.ID!==e)),m([...c,t]))},h=a.useCallback(e=>{let t=i.Fields.filter(i=>e.some(e=>e===i.ID));t.length&&(d(n.filter(i=>!e.some(e=>e===i.ID))),m([...c,...t]))},[i.Fields,n,c]),D=e=>{let i=c.filter(i=>i.ID!==e.ID);u(Number(e.ID)),m(i),d([...n,e])},C=(e,a)=>{var s;if(0===e.Units.length)return;let o=e.MultiField?3:4;return 1===e.Units.length?(0,l.jsx)(I.Z,{label:"Unidade",value:e.Units[0].Unit,disabled:!0}):(0,l.jsx)(f.Z,{size:{xs:o,md:o},children:(0,l.jsxs)(R.Z,{error:r.some(i=>i.id==="".concat(e.ID,"_un")),required:e.Required,fullWidth:!0,children:[(0,l.jsx)(V.Z,{id:"combo-unit-".concat(e.ID),children:"Unidade"}),(0,l.jsxs)(j.Z,{labelId:"combo-unit-".concat(e.ID),id:"combo-unit-".concat(e.ID,"-label"),value:a.unit,onChange:l=>t(i.ID,{id:e.ID,value:a.value,unit:l.target.value}),fullWidth:!0,children:[(0,l.jsx)(M.Z,{value:"empty",children:"\xa0"},""),e.Units.map(e=>(0,l.jsx)(M.Z,{value:e.Unit,children:e.Unit},e.Unit))]}),(0,l.jsx)(U.Z,{children:null===(s=r.find(i=>i.id==="".concat(e.ID,"_un")))||void 0===s?void 0:s.message})]})})},v=e=>{var a;let o=s(e.ID);if(!o)return(0,l.jsx)(l.Fragment,{});let u=e.Units.length>0?8:12;return(0,l.jsxs)(f.Z,{size:{xs:12,md:12},container:!0,spacing:1,children:[(0,l.jsx)(f.Z,{size:{xs:u,md:u},children:(0,l.jsx)(b.Z,{title:e.Desc,arrow:!0,children:(0,l.jsx)(I.Z,{fullWidth:!0,label:e.Name,required:e.Required,onChange:i=>F(e,i.target.value),error:r.some(i=>i.id===e.ID.toString()),helperText:null===(a=r.find(i=>i.id===e.ID.toString()))||void 0===a?void 0:a.message,value:o.value})})}),e.Units.length>0?(0,l.jsxs)(l.Fragment,{children:[C(e,o),e.MultiField?(0,l.jsx)(f.Z,{size:{xs:1,md:1},alignContent:"center",children:(0,l.jsx)(Z.Z,{"aria-label":"delete",onClick:()=>D(e),title:"Remover",children:(0,l.jsx)(H.Z,{})})}):void 0]}):void 0,o.customValue?(0,l.jsx)(b.Z,{title:"Cancelar edi\xe7\xe3o",placement:"top",children:(0,l.jsx)(Z.Z,{size:"large",onClick:()=>t(i.ID,{id:e.ID,value:"",customValue:!1}),children:(0,l.jsx)(w.Z,{})})}):null]})},S=e=>{var a;let o=s(e.ID);if(!o)return(0,l.jsx)(l.Fragment,{});let u=e.Values.map(e=>(0,l.jsx)(M.Z,{value:e,children:e},e));if(e.CustomValue){let e=(0,l.jsx)(M.Z,{value:"other",children:"Outro"},"other");u.push(e)}return(0,l.jsxs)(R.Z,{sx:{minWidth:"50%"},error:r.some(i=>i.id===e.ID.toString()),required:e.Required,children:[(0,l.jsx)(V.Z,{id:"combo-".concat(e.ID),children:e.Name}),(0,l.jsx)(b.Z,{title:e.Desc,arrow:!0,children:(0,l.jsx)(j.Z,{labelId:"combo-".concat(e.ID),id:"combo-".concat(e.ID,"-label"),value:o.value,onChange:l=>{let a=l.target.value,s="other"===l.target.value;t(i.ID,{id:e.ID,value:s?"":a,customValue:s})},fullWidth:!0,children:u})}),(0,l.jsx)(U.Z,{children:null===(a=r.find(i=>i.id===e.ID.toString()))||void 0===a?void 0:a.message})]})},P=e=>{let i=s(e.ID);if(!i)return(0,l.jsx)(l.Fragment,{});let t=e.CustomValue&&i.customValue;return e.Values&&e.Values.length&&!t?S(e):v(e)};return a.useEffect(()=>{let e=i.Fields.filter(e=>e.MultiField),t=o[i.ID];!c.length&&e.length&&t&&t.inputs&&h(Object.keys(t.inputs).filter(i=>e.some(e=>e.ID===Number(i))).map(e=>Number(e)))},[i,o,c,h]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(f.Z,{container:!0,children:[(0,l.jsx)(f.Z,{size:{xs:10,md:10},children:(0,l.jsx)(N.Z,{variant:"h5",component:"h5",style:{margin:"20px 0 20px 0"},children:i.Name})}),(0,l.jsx)(f.Z,{alignContent:"center",children:(0,l.jsx)(b.Z,{title:"Exportar dados preenchidos para continuar mais tarde",arrow:!0,children:(0,l.jsx)(p.Z,{variant:"outlined",onClick:()=>q(o),endIcon:(0,l.jsx)($.Z,{}),children:"Exportar"})})})]}),(0,l.jsxs)(f.Z,{container:!0,children:[i.Desc?(0,l.jsx)(f.Z,{size:{xs:12,md:12},sx:{margin:"10px 0 20px 0"},children:(0,l.jsx)(G.Z,{icon:(0,l.jsx)(y.Z,{fontSize:"inherit"}),severity:"warning",children:i.Desc})}):void 0,i.Fields.some(e=>e.MultiField)?(0,l.jsxs)(l.Fragment,{children:[c.map(e=>(0,l.jsx)(f.Z,{size:{xs:12,md:12},sx:{minHeight:"85px"},children:P(e)},e.ID)),(()=>{let e=[],t=new Set(n.filter(e=>!!e.MultiFieldGroup).map(e=>e.MultiFieldGroup));t.size?Array.from(t).map(e=>({name:e,items:n.filter(i=>i.MultiFieldGroup===e)})).forEach(i=>{e.push((0,l.jsx)(M.Z,{style:{backgroundColor:"#e1dbda"},value:i.name,children:i.name},i.name)),e.push(...i.items.map(e=>(0,l.jsx)(M.Z,{value:e.ID,children:e.Name},e.ID)))}):e=n.map(e=>(0,l.jsx)(M.Z,{value:e.ID,children:e.Name},e.ID));let a=e=>{Array.from(t).some(i=>i===e)||x(Number(e))};return(0,l.jsxs)(R.Z,{fullWidth:!0,children:[(0,l.jsx)(V.Z,{id:"combo-multifield-".concat(i.Name),children:"Escolha ..."}),(0,l.jsx)(j.Z,{labelId:"combo-multifield-".concat(i.Name),id:"combo-multifield-".concat(i.Name,"-label"),value:"",onChange:e=>a(e.target.value),fullWidth:!0,children:e})]})})()]}):i.Fields.map(e=>(0,l.jsx)(f.Z,{size:{xs:12,md:12},sx:{minHeight:"85px"},children:P(e)},e.ID))]})]})};var K=t(9869),E=t(9621),O=t(2197),z=t(2856),k=t(6463);let A=()=>{let{getData:e,inputGroups:i,setResult:t}=(0,g.Y)(e=>e),a=async()=>{let i=await v(e());i&&(t(i),(0,k.redirect)("result"))};return(0,l.jsxs)(f.Z,{container:!0,spacing:2,style:{height:"780px"},children:[(0,l.jsxs)(f.Z,{size:{xs:12,md:12},container:!0,alignContent:"center",justifyContent:"center",flexDirection:"column",style:{textAlign:"center"},children:[(0,l.jsx)(N.Z,{gutterBottom:!0,variant:"h5",component:"div",children:"Preenchimento conclu\xeddo"}),(0,l.jsx)(N.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Iremos agora efectuar os c\xe1lculos e gerar os resultados."})]}),(0,l.jsxs)(f.Z,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"flex-start",children:[(0,l.jsx)(b.Z,{title:"Exportar dados preenchidos para continuar mais tarde",arrow:!0,children:(0,l.jsx)(p.Z,{variant:"outlined",onClick:()=>q(i),endIcon:(0,l.jsx)($.Z,{}),children:"Exportar"})}),(0,l.jsx)(b.Z,{title:"Efectuar os calculos e visualizar os resultados",arrow:!0,children:(0,l.jsx)(p.Z,{variant:"contained",endIcon:(0,l.jsx)(z.Z,{}),onClick:a,size:"large",children:"Calcular"})})]})]})};var W=t(374),B=t(1573),_=t(2433);let T=(0,t(8024).ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Y=e=>{let{onBegin:i}=e,{form:t,setInputGroups:s}=(0,g.Y)(e=>e),[r,o]=a.useState({show:!1}),u=async e=>{let i=await S(e);if(i.errorMessage){o({show:!0,message:i.errorMessage,severity:"error"});return}if(!i.data){o({show:!0,message:"Erro na leitura do ficheiro",severity:"error"});return}s(Object.values(i.data)),o({show:!0,message:"Ficheiro importado com sucesso!"})};return(0,l.jsxs)(f.Z,{container:!0,spacing:2,style:{height:"780px"},children:[(0,l.jsxs)(f.Z,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"center",style:{textAlign:"center"},children:[(0,l.jsx)(N.Z,{gutterBottom:!0,variant:"h5",component:"div",children:t.Title}),(0,l.jsx)(N.Z,{variant:"body2",sx:{color:"text.secondary"},children:t.Desc})]}),(0,l.jsxs)(f.Z,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"flex-start",children:[(0,l.jsx)(b.Z,{title:"Importar dados de uma calculadora previamente preenchida",arrow:!0,children:(0,l.jsxs)(p.Z,{variant:"outlined",endIcon:(0,l.jsx)(_.Z,{}),size:"large",component:"label",children:["Importar",(0,l.jsx)(T,{type:"file",onChange:e=>u(e)})]})}),(0,l.jsx)(b.Z,{title:"Iniciar o preenchimento dos dados para a calculadora",arrow:!0,children:(0,l.jsx)(p.Z,{variant:"contained",endIcon:(0,l.jsx)(B.Z,{}),onClick:()=>{i()},size:"large",children:"Iniciar"})})]}),(0,l.jsx)(W.Z,{open:r.show,autoHideDuration:6e3,onClose:()=>o({show:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,l.jsx)(G.Z,{onClose:()=>o({show:!1}),severity:r.severity||"success",variant:"filled",sx:{width:"100%"},children:r.message})})]})};var L=t(1276),J=t(468);let X=e=>{let{message:i}=e;return(0,l.jsx)(O.Z,{maxWidth:"md",children:(0,l.jsx)(f.Z,{container:!0,children:(0,l.jsxs)(f.Z,{size:{xs:12,md:12},sx:{minHeight:"780px"},alignContent:"center",justifyItems:"center",children:[(0,l.jsx)(N.Z,{variant:"h6",children:i||"Aguarde"}),(0,l.jsx)(J.Z,{color:"inherit"})]})})})},Q=()=>{let[e,i]=a.useState({initialStep:0,nextStep:()=>{},previousStep:()=>{}}),[t,r]=a.useState(0),{setNextStep:o,setForm:n,form:d,hasErrors:c}=(0,g.Y)(e=>e),[m,p]=a.useState((0,K.Z)()),x=async()=>{let i=t+1;o(i),await c()||(r(i),e.nextStep())},h=(0,a.useCallback)(async()=>{let e=await C("anipc");p((0,K.Z)((0,L.W)("#".concat(e.Colors[0]),"#".concat(e.Colors[1])))),n(e)},[n]);(0,a.useEffect)(()=>{h()},[h]);let D=()=>d?d.Groups.map(e=>(0,l.jsx)(s,{children:(0,l.jsx)(P,{group:e})},e.ID)):[],v=()=>[(0,l.jsx)(Y,{onBegin:x},"initialStep"),...D(),(0,l.jsx)(A,{},"finalStep")];return(0,l.jsx)(E.Z,{theme:m,defaultMode:"light",children:d.ID?(0,l.jsx)(O.Z,{maxWidth:"md",children:(0,l.jsxs)(f.Z,{container:!0,children:[(0,l.jsx)(f.Z,{size:{xs:12,md:12},sx:{minHeight:"780px"},children:(0,l.jsx)(u(),{instance:t=>i({...e,...t}),children:v()})}),(0,l.jsx)(f.Z,{size:{xs:12,md:12},children:(0,l.jsx)(F,{activeStep:t,handleBack:()=>{let i=t-1;o(i),r(i),e.previousStep()},handleNext:x,totalSteps:v().length})})]})}):(0,l.jsx)(X,{})})},ee=(0,r.default)(()=>Promise.resolve(Q),{ssr:!1})},6007:(e,i,t)=>{"use strict";t.d(i,{Y:()=>u});var l=t(903);let a=[2002],s=[],r=async(e,i)=>{let l=async()=>(await Promise.all(a.map(async i=>{let l=await t(8456)("./".concat(i)),a=e.getInput(i),r=l.default(a,e);r&&s.push({id:i.toString(),message:r})})),i(s),s.length>0);if(s.length=0,!e||1===e.nextStep)return!1;let r=e.form.Groups[e.nextStep-2];return r.Fields.forEach(i=>{var t;let l=null===(t=e.inputGroups[r.ID])||void 0===t?void 0:t.inputs[i.ID];i.Required&&!l&&s.push({id:i.ID.toString(),message:i.Name+" \xe9 um campo obrigat\xf3rio"}),(i.Required||l&&l.value)&&((l&&i.CustomValue&&!i.Values.some(e=>e===l.value)||!i.Values.length)&&i.Units.length>0&&l&&(!l.unit||"empty"===l.unit)&&s.push({id:"".concat(i.ID,"_un"),message:"Campo obrigat\xf3rio"}),(0===i.Values.length||l&&i.Values.length>0&&i.CustomValue&&!i.Values.some(e=>e===l.value))&&l&&i.Regex&&!new RegExp(i.Regex).test(l.value)&&s.push({id:i.ID.toString(),message:"Campo ".concat(i.Name," inv\xe1lido")}))}),console.log("errors ",s),await l()},o={nextStep:0,form:{ID:"",Groups:[],Title:"",Colors:[],Desc:""},setForm:e=>{console.log(e)},inputGroups:{},setInputGroups:e=>{console.log(e)},getData:()=>({}),setInput:(e,i)=>{console.log(e+i.value)},getInput:e=>{console.log(e)},deleteInput:e=>{console.log(e)},setNextStep:e=>{console.log(e)},hasErrors:()=>Promise.resolve(!1),errors:[],result:void 0,setResult:e=>{console.log(e)}},u=(0,l.U)((e,i)=>({...o,setForm:i=>e(e=>({...e,form:i})),setNextStep:i=>e(e=>({...e,nextStep:i})),setInputGroups:i=>e(e=>({...e,inputGroups:Object.fromEntries(i.map(e=>[e.id,e]))})),getData:()=>({ID:i().form.ID,Groups:Object.values(i().inputGroups).map(e=>({ID:e.id,Values:Object.values(e.inputs).map(e=>({ID:e.id,Value:e.value,Unit:e.unit})).filter(e=>!!e.Value)}))}),errors:[],hasErrors:()=>r(i(),i=>e(e=>({...e,errors:i}))),getInput:e=>{let t=[];return Object.values(i().inputGroups).forEach(e=>t.push(...Object.values(e.inputs))),t.find(i=>i.id===e)||{id:e,value:"",unit:""}},deleteInput:i=>e(e=>{if(!i)return e;let t=Object.values(e.inputGroups).find(e=>Object.values(e.inputs).some(e=>e.id===i));if(!t)return e;let l=Object.values(t.inputs).filter(e=>e.id!==i);return{...e,inputGroups:{...e.inputGroups,[t.id]:{...t,inputs:l}}}}),setInput:(t,l)=>{let{id:a,value:s,unit:r,customValue:o}=l;return e(e=>{let l=i().getInput(a);if(!l)return e;let u={id:a,value:s,unit:r||l.unit,customValue:void 0!=o?o:l.customValue},n=e.inputGroups[t]||{id:t,inputs:{}},d=Object.values(n.inputs).length>0?{...n.inputs,[a]:u}:{[a]:u};return{...e,inputGroups:{...e.inputGroups,[t]:{...n,inputs:d}}}})},setResult:i=>e(e=>({...e,result:i}))}))},1276:(e,i,t)=>{"use strict";t.d(i,{W:()=>a});var l=t(7564);let a=(e,i)=>({palette:{primary:{main:e},secondary:{main:i},background:{default:"#ffffff",paper:"#f5f5f5"}},typography:{allVariants:{color:e}},components:{MuiInputLabel:{styleOverrides:{root:{backgroundColor:"white",padding:"0 10px 0 10px",color:i,["&.".concat(l.Z.focused)]:{color:i}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:e,"&:hover":{borderColor:"red"}}}},MuiButton:{styleOverrides:{outlined:{color:i}}},MuiMenuItem:{styleOverrides:{root:{color:i}}}}})}},e=>{var i=i=>e(e.s=i);e.O(0,[145,397,130,215,744],()=>i(8528)),_N_E=e.O()}]);