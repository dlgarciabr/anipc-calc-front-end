(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[307],{7428:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(95155),r=i(63159),s=i(24689),a=i(65358),l=i(89915);let o=e=>{let{message:t}=e;return(0,n.jsx)(r.A,{maxWidth:"md",children:(0,n.jsx)(s.A,{container:!0,children:(0,n.jsxs)(s.A,{size:{xs:12,md:12},sx:{minHeight:"780px"},alignContent:"center",justifyItems:"center",display:"grid",children:[(0,n.jsx)(a.A,{variant:"h6",children:t||"Aguarde"}),(0,n.jsx)(l.A,{color:"inherit"})]})})})}},11969:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95155),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12115),_components_CalculatorStep__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(45370),next_dynamic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(55028),react_step_wizard__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(56303),react_step_wizard__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_step_wizard__WEBPACK_IMPORTED_MODULE_4__),_components_CalculatorNavigator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(84895),_stores_simulation__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(52282),_api__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1494),_components_wizardSteps_DynamicGroupForm__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(82903),_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(35902),_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1042),_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(63159),_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(24689),_components_wizardSteps_FinalStep__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(16545),_components_wizardSteps_InitialStep__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(79925),_components_utils_scheme__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(25471),_components_Loading__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(7428),_utils_useLeavePageConfirm__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(21156),next_navigation__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(35695),_components_Error__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(59710),_stores_session__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(18336);let initialized=!1,Calculator=()=>{(0,_utils_useLeavePageConfirm__WEBPACK_IMPORTED_MODULE_12__.k)(!0);let searchParams=(0,next_navigation__WEBPACK_IMPORTED_MODULE_13__.useSearchParams)(),calcId=searchParams.get("id"),securedSearchParam=searchParams.get("secured"),isSecured=!!securedSearchParam&&eval(securedSearchParam),[wizardState,setWizardState]=react__WEBPACK_IMPORTED_MODULE_1__.useState({initialStep:0,nextStep:()=>{},previousStep:()=>{},goToStep:e=>{console.log("navigate to step "+e)}}),[activeStep,setActiveStep]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),{setNextStep,setForm,form,hasErrors,routerParam,setRouterParam,setInputGroups,totalSteps,clearErrors}=(0,_stores_simulation__WEBPACK_IMPORTED_MODULE_6__.i)(e=>e),[theme,setTheme]=react__WEBPACK_IMPORTED_MODULE_1__.useState((0,_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_16__.A)()),[loading,setLoading]=react__WEBPACK_IMPORTED_MODULE_1__.useState(!1),[error,setError]=react__WEBPACK_IMPORTED_MODULE_1__.useState(),{setToken,token}=(0,_stores_session__WEBPACK_IMPORTED_MODULE_15__.B)(e=>e),handleNext=async()=>{let e=activeStep+1;setNextStep(e),await hasErrors()||(setActiveStep(e),wizardState.nextStep())},handleBack=()=>{let e=activeStep-1;setNextStep(e),setActiveStep(e),clearErrors(),wizardState.previousStep()},setInstance=e=>setWizardState({...wizardState,...e}),loadForm=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async()=>{setLoading(!0);let e=form;if(!calcId&&!e.ID){setError({}),setLoading(!1);return}if(!e.ID&&calcId)try{setError(void 0),e=await (0,_api__WEBPACK_IMPORTED_MODULE_7__.Rs)(calcId,token),setForm(e)}catch(e){setError({}),setLoading(!1)}setTheme((0,_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_16__.A)((0,_components_utils_scheme__WEBPACK_IMPORTED_MODULE_17__.d)("#".concat(e.Colors[0]),"#".concat(e.Colors[1])))),setLoading(!1)},[calcId,form,setForm,token]),renderDynamicSteps=()=>form?form.Groups.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_CalculatorStep__WEBPACK_IMPORTED_MODULE_2__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_wizardSteps_DynamicGroupForm__WEBPACK_IMPORTED_MODULE_8__.A,{group:e})},e.ID)):[],goToLastStep=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(async()=>{let e=totalSteps-1;setNextStep(e),await hasErrors()||(setActiveStep(e),wizardState.goToStep(totalSteps),setRouterParam(""))},[hasErrors,setNextStep,wizardState,setRouterParam]);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{(!isSecured||isSecured&&token)&&(console.log("loading calculator data..."),loadForm())},[loadForm,token,isSecured]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{"new"===routerParam&&0===activeStep&&(setRouterParam(""),setInputGroups(new Map)),"edit"===routerParam&&0===activeStep&&goToLastStep()},[activeStep,goToLastStep,routerParam,setForm,setInputGroups,setRouterParam]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{console.log("react initializing..."),isSecured&&!initialized&&(console.log("react loaded..."),window.parent.postMessage("react_loaded","*"),window.addEventListener("message",e=>{"string"==typeof e.data&&e.data.startsWith("token:")&&setToken(e.data.substring(6))},!1),initialized=!0)},[]);let generateSteps=()=>[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_wizardSteps_InitialStep__WEBPACK_IMPORTED_MODULE_10__.A,{onBegin:handleNext},"initialStep"),...renderDynamicSteps(),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_wizardSteps_FinalStep__WEBPACK_IMPORTED_MODULE_9__.A,{onBeforeSend:()=>setLoading(!0),onError:onFinalStepError},"finalStep")],onFinalStepError=()=>{setLoading(!1),setError({onRetry:()=>{setError(void 0),setActiveStep(0)}})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_18__.A,{theme:theme,defaultMode:"light",children:[loading&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Loading__WEBPACK_IMPORTED_MODULE_11__.A,{}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Error__WEBPACK_IMPORTED_MODULE_14__.A,{onRetry:error.onRetry}),!loading&&!error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_19__.A,{maxWidth:"md",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_20__.A,{container:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_20__.A,{size:{xs:12,md:12},className:"form-body",sx:{height:"620px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_step_wizard__WEBPACK_IMPORTED_MODULE_4___default(),{instance:setInstance,children:generateSteps()})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Container_Grid2_ThemeProvider_createTheme_mui_material__WEBPACK_IMPORTED_MODULE_20__.A,{size:{xs:12,md:12},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_CalculatorNavigator__WEBPACK_IMPORTED_MODULE_5__.A,{activeStep:activeStep,handleBack:handleBack,handleNext:handleNext,totalSteps:generateSteps().length})})]})})]})},__WEBPACK_DEFAULT_EXPORT__=(0,next_dynamic__WEBPACK_IMPORTED_MODULE_3__.default)(()=>Promise.resolve(Calculator),{ssr:!1})},16545:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var n=i(95155);i(12115);var r=i(1494),s=i(52282),a=i(24689),l=i(65358),o=i(26096),c=i(55857),d=i(91627),h=i(34503),u=i(70084),x=i(35695);let m=e=>{let{onBeforeSend:t,onError:i}=e,{getData:m,inputGroups:g,setResult:p,form:{Disclaimer:A,Version:j}}=(0,s.i)(e=>e),v=async()=>{let e;t();try{(e=await (0,r.Vb)(m()))&&p(e)}catch(e){console.log("error",e)}e&&(0,x.redirect)("result"),i("error")};return(0,n.jsxs)(a.A,{container:!0,spacing:2,style:{height:"620px"},children:[(0,n.jsxs)(a.A,{size:{xs:12,md:12},container:!0,alignContent:"center",justifyContent:"center",flexDirection:"column",style:{textAlign:"center"},children:[(0,n.jsx)(l.A,{gutterBottom:!0,variant:"h5",component:"div",children:"Preenchimento conclu\xeddo"}),(0,n.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:A})]}),(0,n.jsxs)(a.A,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"flex-start",children:[(0,n.jsx)(o.A,{title:"Exportar dados preenchidos para continuar mais tarde",arrow:!0,children:(0,n.jsx)(c.A,{variant:"outlined",onClick:()=>(0,h.su)(j,g),endIcon:(0,n.jsx)(u.A,{}),children:"Exportar"})}),(0,n.jsx)(o.A,{title:"Efectuar os calculos e visualizar os resultados",arrow:!0,children:(0,n.jsx)(c.A,{variant:"contained",endIcon:(0,n.jsx)(d.A,{}),onClick:v,size:"large",children:"Calcular"})})]})]})}},18336:(e,t,i)=>{"use strict";i.d(t,{B:()=>s});var n=i(65453);let r={token:"",setToken:()=>{}},s=(0,n.v)(e=>({...r,setToken:t=>e(e=>({...e,token:t}))}))},24736:(e,t,i)=>{Promise.resolve().then(i.bind(i,11969))},45370:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(95155);let r=e=>(0,n.jsx)(n.Fragment,{children:e.children})},59710:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(95155),r=i(63159),s=i(24689),a=i(65358),l=i(55857),o=i(17322);let c=e=>{let{message:t,description:i,onRetry:c}=e;return(0,n.jsx)(r.A,{maxWidth:"md",children:(0,n.jsx)(s.A,{container:!0,children:(0,n.jsxs)(s.A,{size:{xs:12,md:12},sx:{minHeight:"620px"},alignContent:"center",justifyItems:"center",display:"grid",children:[(0,n.jsx)(o.A,{sx:{color:"red",width:"50px",height:"50px"}}),(0,n.jsx)(a.A,{variant:"h5",children:t||"Ocorreu um erro!"}),(0,n.jsx)(a.A,{variant:"h6",color:"secondary",children:i||"Infelizmente nao fomos capazes de concluir a opera\xe7\xe3o, por favor tente mais tarde."}),c?(0,n.jsx)(l.A,{variant:"contained",onClick:c,size:"large",sx:{marginTop:"50px"},children:"tentar novamente"}):null]})})})}},79925:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});var n=i(95155),r=i(24689),s=i(65358),a=i(26096),l=i(55857),o=i(86485),c=i(54265),d=i(26126),h=i(10007),u=i(35881),x=i(34503),m=i(12115),g=i(52282);let p=(0,u.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),A=e=>{let{onBegin:t}=e,{form:i,setInputGroups:u}=(0,g.i)(e=>e),A=()=>{t()},[j,v]=m.useState({show:!1}),f=async e=>{let t=await (0,x.h7)(e);if(t.errorMessage){v({show:!0,message:t.errorMessage,severity:"error"});return}if(!t.data){v({show:!0,message:"Erro na leitura do ficheiro",severity:"error"});return}u(t.data),v({show:!0,message:"Ficheiro importado com sucesso!"})};return(0,n.jsxs)(r.A,{container:!0,spacing:2,style:{height:"620px"},children:[(0,n.jsxs)(r.A,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"center",style:{textAlign:"center"},children:[(0,n.jsx)(s.A,{gutterBottom:!0,variant:"h5",component:"div",children:i.Title}),(0,n.jsx)(s.A,{variant:"body2",sx:{color:"text.secondary"},children:i.Desc}),(0,n.jsx)(s.A,{variant:"subtitle2",sx:{color:"black"},children:i.Version})]}),(0,n.jsxs)(r.A,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"flex-start",children:[(0,n.jsx)(a.A,{title:"Importar dados de uma calculadora previamente preenchida",arrow:!0,children:(0,n.jsxs)(l.A,{variant:"outlined",endIcon:(0,n.jsx)(h.A,{}),size:"large",component:"label",children:["Importar",(0,n.jsx)(p,{type:"file",onChange:e=>f(e)})]})}),(0,n.jsx)(a.A,{title:"Iniciar o preenchimento dos dados para a calculadora",arrow:!0,children:(0,n.jsx)(l.A,{variant:"contained",endIcon:(0,n.jsx)(d.A,{}),onClick:A,size:"large",children:"Iniciar"})})]}),(0,n.jsx)(o.A,{open:j.show,autoHideDuration:6e3,onClose:()=>v({show:!1}),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(c.A,{onClose:()=>v({show:!1}),severity:j.severity||"success",variant:"filled",sx:{width:"100%"},children:j.message})})]})}},82903:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var n=i(95155),r=i(12115),s=i(52282),a=i(32582),l=i(24689),o=i(73760),c=i(88764),d=i(45845),h=i(57991),u=i(83025),x=i(26096),m=i(76898),g=i(44146),p=i(65358),A=i(55857),j=i(54265),v=i(8542),f=i(71023),I=i(34503),b=i(70084),w=i(63307),C=i(35881),D=i(61057);let y=(0,C.Ay)(D.A)(e=>{let{theme:t}=e;return{padding:8,"& .MuiSwitch-track":{borderRadius:11,"&::before, &::after":{content:'""',position:"absolute",top:"50%",transform:"translateY(-50%)",width:16,height:16},"&::before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="'.concat(encodeURIComponent(t.palette.getContrastText(t.palette.primary.main)),'" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>\')'),left:12},"&::after":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="'.concat(encodeURIComponent(t.palette.getContrastText(t.palette.primary.main)),'" d="M19,13H5V11H19V13Z" /></svg>\')'),right:12}},"& .MuiSwitch-thumb":{boxShadow:"none",width:16,height:16,margin:2}}}),S=e=>{let{group:t}=e,{setInput:i,getInput:C,errors:D,inputGroups:S,deleteInput:k,form:z}=(0,s.i)(e=>e),[N,F]=(0,r.useState)(t.Fields),[V,E]=(0,r.useState)([]),M=(e,n)=>{1===e.Units.length?i(t.ID,{id:e.ID,value:n,unit:e.Units[0].Unit,name:e.Name}):i(t.ID,{id:e.ID,value:n,name:e.Name})},U=e=>{let i=t.Fields.find(t=>t.ID===e);i&&(F(N.filter(t=>t.ID!==e)),E([...V,i]))},R=r.useCallback(e=>{let i=t.Fields.filter(t=>e.some(e=>e===t.ID));i.length&&(F(N.filter(t=>!e.some(e=>e===t.ID))),E([...V,...i]))},[t.Fields,N,V]),B=e=>{let i=V.filter(t=>t.ID!==e.ID);k(t.ID,e.ID),E(i),F([...N,e])},W=(e,r)=>{var s;if(0===e.Units.length)return;let x=e.MultiField?3:4;return 1===e.Units.length?(0,n.jsx)(a.A,{label:"Unidade",value:e.Units[0].Unit,disabled:!0}):(0,n.jsx)(l.A,{size:{xs:x,md:x},children:(0,n.jsxs)(o.A,{error:D.some(t=>t.id==="".concat(e.ID,"_un")),required:e.Required,fullWidth:!0,children:[(0,n.jsx)(c.A,{id:"combo-unit-".concat(e.ID),children:"Unidade"}),(0,n.jsxs)(d.A,{labelId:"combo-unit-".concat(e.ID),id:"combo-unit-".concat(e.ID,"-label"),value:r.unit,onChange:n=>i(t.ID,{id:e.ID,value:r.value,unit:n.target.value,name:e.Name}),fullWidth:!0,children:[(0,n.jsx)(h.A,{value:"empty",children:"\xa0"},""),e.Units.map(e=>(0,n.jsx)(h.A,{value:e.Unit,children:e.Unit},e.Unit))]}),(0,n.jsx)(u.A,{children:null===(s=D.find(t=>t.id==="".concat(e.ID,"_un")))||void 0===s?void 0:s.message})]})})},L=e=>{var r;let s=C(e.ID);if(!s)return(0,n.jsx)(n.Fragment,{});let o=!!s.customValue,c=1===e.Values.length,d=e.Units.length>0?8:s.customValue?11:12;return(0,n.jsxs)(l.A,{size:{xs:12,md:12},container:!0,spacing:1,children:[e.Checkbox&&(0,n.jsx)(l.A,{size:{xs:12,md:12},alignContent:"center",children:(0,n.jsx)(x.A,{title:e.CheckboxDesc,arrow:!0,children:(0,n.jsx)(m.A,{style:{marginLeft:0},control:(0,n.jsx)(y,{}),label:e.CheckboxLabel,onChange:(t,i)=>i&&M(e,e.CheckboxValue)})})}),(0,n.jsx)(l.A,{size:{xs:d,md:d},children:(0,n.jsx)(x.A,{title:e.Desc,arrow:!0,children:(0,n.jsx)(a.A,{slotProps:{htmlInput:{className:"".concat(s.id)}},fullWidth:!0,label:e.Name,required:e.Required,onChange:t=>M(e,t.target.value),error:D.some(t=>t.id===e.ID.toString()),helperText:null===(r=D.find(t=>t.id===e.ID.toString()))||void 0===r?void 0:r.message,value:s.value,disabled:c&&!o})})}),e.Units.length>0?(0,n.jsxs)(n.Fragment,{children:[W(e,s),e.MultiField?(0,n.jsx)(l.A,{size:{xs:1,md:1},alignContent:"center",children:(0,n.jsx)(g.A,{"aria-label":"delete",onClick:()=>B(e),title:"Remover",children:(0,n.jsx)(f.A,{})})}):void 0]}):void 0,s.customValue?(0,n.jsx)(x.A,{title:"Cancelar edi\xe7\xe3o",placement:"top",children:(0,n.jsx)(g.A,{size:"large",onClick:()=>i(t.ID,{id:e.ID,value:"",customValue:!1,name:e.Name}),children:(0,n.jsx)(w.A,{})})}):null]})},T=e=>{var r;let s=C(e.ID);if(!s)return(0,n.jsx)(n.Fragment,{});let a=e.Values.map(e=>(0,n.jsx)(h.A,{value:e,children:e},e));if(e.CustomValue){let e=(0,n.jsx)(h.A,{value:"other",children:"Outro"},"other");a.push(e)}let l=n=>{let r=n.target.value,s="other"===n.target.value;i(t.ID,{id:e.ID,value:s?"":r,customValue:s,name:e.Name})};return(0,n.jsxs)(o.A,{sx:{minWidth:"50%"},error:D.some(t=>t.id===e.ID.toString()),required:e.Required,children:[(0,n.jsx)(c.A,{id:"combo-".concat(e.ID),children:e.Name}),(0,n.jsx)(x.A,{title:e.Desc,arrow:!0,children:(0,n.jsx)(d.A,{labelId:"combo-".concat(e.ID),id:"combo-".concat(e.ID,"-label"),value:s.value,onChange:l,fullWidth:!0,inputProps:{className:"".concat(s.id)},children:a})}),(0,n.jsx)(u.A,{children:null===(r=D.find(t=>t.id===e.ID.toString()))||void 0===r?void 0:r.message})]})},_=()=>{let e=[],i=new Set(N.filter(e=>!!e.MultiFieldGroup).map(e=>e.MultiFieldGroup));i.size?Array.from(i).map(e=>({name:e,items:N.filter(t=>t.MultiFieldGroup===e)})).forEach(t=>{e.push((0,n.jsx)(h.A,{style:{backgroundColor:"#e1dbda"},value:t.name,children:t.name},t.name)),e.push(...t.items.map(e=>(0,n.jsx)(h.A,{value:e.ID,children:e.Name},e.ID)))}):e=N.map(e=>(0,n.jsx)(h.A,{value:e.ID,children:e.Name},e.ID));let r=e=>{Array.from(i).some(t=>t===e)||U(Number(e))};return(0,n.jsxs)(o.A,{fullWidth:!0,children:[(0,n.jsx)(c.A,{id:"combo-multifield-".concat(t.Name),children:"Escolha ..."}),(0,n.jsx)(d.A,{labelId:"combo-multifield-".concat(t.Name),id:"combo-multifield-".concat(t.Name,"-label"),value:"",onChange:e=>r(e.target.value),fullWidth:!0,children:e})]})},P=e=>{let t=C(e.ID);if(!t)return(0,n.jsx)(n.Fragment,{});let i=1===e.Values.length&&!e.CustomValue,r=!!t.customValue,s=0===e.Values.length&&e.CustomValue||r;return i||s?L(e):T(e)};return r.useEffect(()=>{let e=t.Fields.filter(e=>e.MultiField),i=S.get(t.ID);!V.length&&e.length&&i&&i.inputs&&R(Array.from(i.inputs.keys()).filter(t=>e.some(e=>e.ID===Number(t))).map(e=>Number(e)))},[t,S,V,R]),(0,n.jsxs)("div",{style:{height:"600px",overflowY:"auto"},children:[(0,n.jsxs)(l.A,{container:!0,children:[(0,n.jsx)(l.A,{size:{xs:10,md:10},children:(0,n.jsx)(p.A,{variant:"h5",component:"h5",style:{margin:"20px 0 20px 0"},children:t.Name})}),(0,n.jsx)(l.A,{alignContent:"center",children:(0,n.jsx)(x.A,{title:"Exportar dados preenchidos para continuar mais tarde",arrow:!0,children:(0,n.jsx)(A.A,{variant:"outlined",onClick:()=>(0,I.su)(z.Version,S),endIcon:(0,n.jsx)(b.A,{}),children:"Exportar"})})})]}),(0,n.jsxs)(l.A,{container:!0,children:[t.Desc?(0,n.jsx)(l.A,{size:{xs:12,md:12},sx:{margin:"10px 0 20px 0"},children:(0,n.jsx)(j.A,{icon:(0,n.jsx)(v.A,{fontSize:"inherit"}),severity:"warning",children:t.Desc})}):void 0,t.Fields.some(e=>e.MultiField)?(0,n.jsxs)(n.Fragment,{children:[V.map(e=>(0,n.jsx)(l.A,{size:{xs:12,md:12},sx:{minHeight:"85px"},children:P(e)},e.ID)),_()]}):t.Fields.map(e=>(0,n.jsx)(l.A,{size:{xs:12,md:12},sx:{minHeight:e.Checkbox?"132px":"85px"},children:P(e)},e.ID))]})]})}},84895:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(95155),r=i(33927),s=i(65608),a=i(73746),l=i(54068),o=i(55857);let c=e=>{let t=(0,a.A)();return(0,n.jsx)(l.A,{variant:"progress",steps:e.totalSteps,position:"static",activeStep:e.activeStep,nextButton:(0,n.jsxs)(o.A,{size:"small",onClick:e.handleNext,disabled:e.activeStep>=e.totalSteps-1,children:["PR\xd3XIMO","rtl"===t.direction?(0,n.jsx)(r.A,{}):(0,n.jsx)(s.A,{})]}),backButton:(0,n.jsxs)(o.A,{size:"small",onClick:e.handleBack,disabled:0===e.activeStep,children:["rtl"===t.direction?(0,n.jsx)(s.A,{}):(0,n.jsx)(r.A,{}),"VOLTAR"]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[830,247,371,441,684,358],()=>t(24736)),_N_E=e.O()}]);