(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[179],{27267:(e,t,i)=>{var l={"./2002":[33833,833],"./2002.ts":[33833,833]};function a(e){if(!i.o(l,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=l[e],a=t[0];return i.e(t[1]).then(()=>i(a))}a.keys=()=>Object.keys(l),a.id=27267,e.exports=a},72431:()=>{},98528:(e,t,i)=>{Promise.resolve().then(i.bind(i,49764))},49764:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>el});var l=i(57437),a=i(2265);let s=e=>(0,l.jsx)(l.Fragment,{children:e.children});var r=i(57818),o=i(23073),u=i.n(o),n=i(85984),d=i(24792),c=i(22960),m=i(35510),p=i(76548);let g=e=>{let t=(0,c.Z)();return(0,l.jsx)(m.Z,{variant:"progress",steps:e.totalSteps,position:"static",activeStep:e.activeStep,nextButton:(0,l.jsxs)(p.Z,{size:"small",onClick:e.handleNext,disabled:e.activeStep>=e.totalSteps-1,children:["PR\xd3XIMO","rtl"===t.direction?(0,l.jsx)(n.Z,{}):(0,l.jsx)(d.Z,{})]}),backButton:(0,l.jsxs)(p.Z,{size:"small",onClick:e.handleBack,disabled:0===e.activeStep,children:["rtl"===t.direction?(0,l.jsx)(d.Z,{}):(0,l.jsx)(n.Z,{}),"VOLTAR"]})})};var x=i(56007),h=i(38472);let F={getForm:!1,calculate:!1},D={ID:"ANIPC",Title:"Calculadora de Pegada de Carbono",Desc:"Esta ferramenta de c\xe1lculo de emiss\xf5es de Gases com Efeito de Estufa (GEE) enquadra-se no \xe2mbito do projeto Paper4Neutral - Roteiro para a descarboniza\xe7\xe3o do setor do papel e cart\xe3o desenvolvido pela ANIPC - Associa\xe7\xe3o Nacional dos Industriais do Papel e Cart\xe3o.",Groups:[{ID:1e3,Name:"Dados da Empresa",Desc:"Dados relativos \xe0 empresa",Fields:[{ID:1001,Name:"Ano de C\xe1lculo",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["2021","2022","2023"],CustomValue:!1,Regex:""},{ID:1002,Name:"Nome da Empresa",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,100}$"},{ID:1003,Name:"CAE Principal",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["17110 - Fabrica\xe7\xe3o de pasta","17120 - Fabrica\xe7\xe3o de papel e de cart\xe3o (excepto canelado)","17211 - Fabrica\xe7\xe3o de papel e de cart\xe3o canelados (inclui embalagens)","17212 - Fabrica\xe7\xe3o de outras embalagens de papel e de cart\xe3o","17220 - Fabrica\xe7\xe3o de artigos de papel para uso dom\xe9stico e sanit\xe1rio","17230 - Fabrica\xe7\xe3o de artigos de papel para papelaria","17240 - Fabrica\xe7\xe3o de papel de parede","17290 - Fabrica\xe7\xe3o de outros artigos de pasta de papel, de papel e de cart\xe3o"],CustomValue:!0,Regex:"^[0-9]{5}$"},{ID:1004,Name:"Fileira",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["Fabricantes","Transformadores","Retomadores","Outro"],CustomValue:!1,Regex:""},{ID:1005,Name:"Unidade de Produ\xe7\xe3o",Desc:"Indicar a unidade de produ\xe7\xe3o aplic\xe1vel (e.g., ton., m2)",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,10}$"},{ID:1006,Name:"Produ\xe7\xe3o Anual",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:1007,Name:"Nome do Respons\xe1vel",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,50}$"},{ID:1008,Name:"E-mail do Respons\xe1vel",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^(?=.{1,64}@)[\\w\\-!#$%&'*+\\/=?^_`{|}~]+(\\.[\\w\\-!#$%&'*+\\/=?^_`{|}~]+)*@(\\w+(-+\\w+)*\\.)*(?=.{2,4}$)[a-zA-Z]+(-+[a-zA-Z]+)*$"}]},{ID:2e3,Name:"Consumos de Energia El\xe9trica",Desc:"",Fields:[{ID:2001,Name:"Faturada",Desc:"",Units:[{Unit:"KWh"}],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2002,Name:"Renov\xe1vel (Garantias de Origem)",Desc:'Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de "eletricidade verde" dever\xe1 basear-se em evid\xeancias da respetiva contrata\xe7\xe3o junto do(s) comercializador(es) de energia (incluindo mobilidade el\xe9trica) e/ou de Certificados de Garantia de Origem.',Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2003,Name:"Renov\xe1vel (autoconsumo)",Desc:"Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de eletricidade renov\xe1vel autoconsumida, excluindo a energia excedente.",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2004,Name:"Mobilidade El\xe9trica",Desc:"Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de eletricidade faturada decorrente dos carregamentos efetuados em postos de carregamento fora da empresa.",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2005,Name:"Outra",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:3e3,Name:"Combust\xe3o Estacion\xe1ria",Desc:"",Fields:[{ID:3001,Name:"Biomassa (certificada)",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3002,Name:"Biomassa (n\xe3o certificada)",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3003,Name:"G\xe1s natural",Desc:"",Units:[{Unit:"KWh"},{Unit:"m3"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3004,Name:"G\xe1s propano",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3005,Name:"Fuel\xf3leo",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3006,Name:"Gas\xf3leo (aquecimento)",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3007,Name:"Outro (Renov\xe1vel)",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:4e3,Name:"Combust\xe3o M\xf3vel (Frota)",Desc:"",Fields:[{ID:4001,Name:"Gas\xf3leo",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4002,Name:"Gasolina",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4003,Name:"G\xe1s Propano",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4004,Name:"Outro (Renov\xe1vel)",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:5e3,Name:"Consumo de Solventes",Desc:"",Fields:[{ID:5001,Name:"Solventes",Desc:"Dever\xe1 ser indicado o consumo de solventes calculado de acordo com a metodologia disposta na legisla\xe7\xe3o e regulamenta\xe7\xe3o aplic\xe1veis. Caso n\xe3o existam consumos de solventes para o ano em an\xe1lise, dever\xe1 ser selecionada a op\xe7\xe3o N/A.",Units:[{Unit:"Kg"}],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["N/A"],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:6e3,Name:"Consumo de Flu\xeddos Refrigerantes",Desc:"",Fields:[{ID:6001,Name:"HFC-125",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6002,Name:"HFC-134",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6003,Name:"HFC-143",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6004,Name:"HFC-143a",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6005,Name:"HFC-152a",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6006,Name:"HFC-227ea",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6007,Name:"HFC-23",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6008,Name:"HFC-236fa",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6009,Name:"HFC-245fa",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6010,Name:"HFC-41",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6011,Name:"HFC-43-I0mee",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6012,Name:"R134a",Desc:"Designado como HFC-134a",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6013,Name:"R32",Desc:"Designado como HFC-32",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6014,Name:"R404A",Desc:"Blend 52:44:4 [HFC-143a, HFC-125, HFC-134a]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6015,Name:"R407C",Desc:"Blend 23:25:52 [HFC-32, HFC-125, HFC-134a]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6016,Name:"R410A",Desc:"Blend 50:50 [HFC-32, HFC-125]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6017,Name:"R427A",Desc:"Blend 15:25:10:50 [HFC-32, HFC-125, HFC-134a, HFC-143]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6018,Name:"PFC-116 (Perfluoroethane)",Desc:"C2F6",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6019,Name:"PFC-14 (Perfluoromethane)",Desc:"CF4",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6020,Name:"PFC-218 (Perfluoropropane)",Desc:"C3F8",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6021,Name:"PFC-31-10 (Perfluorobutane)",Desc:"C4F10",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6022,Name:"PFC-318 (Perfluorocyclobutane)",Desc:"c-C4F8",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6023,Name:"PFC-41-12 (Perfluoropentane)",Desc:"C5F12",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6024,Name:"PFC-51-14 (Perfluorohexane)",Desc:"C6F14",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6025,Name:"SF6 (Sulphur hexafluoride)",Desc:"SF6",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"SF6 (Sulphur Hexafluoride)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]}]},C=async e=>F.getForm?Promise.resolve(D):(await (0,h.Z)({method:"get",url:"https://calc.ghg-impact.eu/form.php?id=".concat(e)})).data,v=async e=>F.calculate?Promise.reject():(await (0,h.Z)({method:"post",url:"https://calc.ghg-impact.eu/calc.php",data:e})).data;var f=i(66858),I=i(92434),R=i(88644),j=i(37590),V=i(79622),M=i(91651),U=i(10437),b=i(31655),Z=i(60335),y=i(80511),N=i(68165),G=i(87913),H=i(33657);let q=e=>{let t=JSON.stringify(e),i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download","calculadora.json"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},S=async e=>{var t;if(!(null===(t=e.target.files)||void 0===t?void 0:t.length))return{};let i=e.target.files[0];return"application/json"!=i.type?{errorMessage:"Ficheiro inv\xe1lido"}:{data:await new Response(i).json()}};var P=i(70152),$=i(78356);let w=e=>{let{group:t}=e,{setInput:i,getInput:s,errors:r,inputGroups:o,deleteInput:u}=(0,x.P)(e=>e),[n,d]=(0,a.useState)(t.Fields),[c,m]=(0,a.useState)([]),g=(e,l)=>{1===e.Units.length?i(t.ID,{id:e.ID,value:l,unit:e.Units[0].Unit}):i(t.ID,{id:e.ID,value:l})},h=e=>{let i=t.Fields.find(t=>t.ID===e);i&&(d(n.filter(t=>t.ID!==e)),m([...c,i]))},F=a.useCallback(e=>{let i=t.Fields.filter(t=>e.some(e=>e===t.ID));i.length&&(d(n.filter(t=>!e.some(e=>e===t.ID))),m([...c,...i]))},[t.Fields,n,c]),D=e=>{let t=c.filter(t=>t.ID!==e.ID);u(Number(e.ID)),m(t),d([...n,e])},C=(e,a)=>{var s;if(0===e.Units.length)return;let o=e.MultiField?3:4;return 1===e.Units.length?(0,l.jsx)(f.Z,{label:"Unidade",value:e.Units[0].Unit,disabled:!0}):(0,l.jsx)(I.Z,{size:{xs:o,md:o},children:(0,l.jsxs)(R.Z,{error:r.some(t=>t.id==="".concat(e.ID,"_un")),required:e.Required,fullWidth:!0,children:[(0,l.jsx)(j.Z,{id:"combo-unit-".concat(e.ID),children:"Unidade"}),(0,l.jsxs)(V.Z,{labelId:"combo-unit-".concat(e.ID),id:"combo-unit-".concat(e.ID,"-label"),value:a.unit,onChange:l=>i(t.ID,{id:e.ID,value:a.value,unit:l.target.value}),fullWidth:!0,children:[(0,l.jsx)(M.Z,{value:"empty",children:"\xa0"},""),e.Units.map(e=>(0,l.jsx)(M.Z,{value:e.Unit,children:e.Unit},e.Unit))]}),(0,l.jsx)(U.Z,{children:null===(s=r.find(t=>t.id==="".concat(e.ID,"_un")))||void 0===s?void 0:s.message})]})})},v=e=>{var a;let o=s(e.ID);if(!o)return(0,l.jsx)(l.Fragment,{});let u=e.Units.length>0?8:o.customValue?11:12;return(0,l.jsxs)(I.Z,{size:{xs:12,md:12},container:!0,spacing:1,children:[(0,l.jsx)(I.Z,{size:{xs:u,md:u},children:(0,l.jsx)(b.Z,{title:e.Desc,arrow:!0,children:(0,l.jsx)(f.Z,{fullWidth:!0,label:e.Name,required:e.Required,onChange:t=>g(e,t.target.value),error:r.some(t=>t.id===e.ID.toString()),helperText:null===(a=r.find(t=>t.id===e.ID.toString()))||void 0===a?void 0:a.message,value:o.value})})}),e.Units.length>0?(0,l.jsxs)(l.Fragment,{children:[C(e,o),e.MultiField?(0,l.jsx)(I.Z,{size:{xs:1,md:1},alignContent:"center",children:(0,l.jsx)(Z.Z,{"aria-label":"delete",onClick:()=>D(e),title:"Remover",children:(0,l.jsx)(H.Z,{})})}):void 0]}):void 0,o.customValue?(0,l.jsx)(b.Z,{title:"Cancelar edi\xe7\xe3o",placement:"top",children:(0,l.jsx)(Z.Z,{size:"large",onClick:()=>i(t.ID,{id:e.ID,value:"",customValue:!1}),children:(0,l.jsx)($.Z,{})})}):null]})},S=e=>{var a;let o=s(e.ID);if(!o)return(0,l.jsx)(l.Fragment,{});let u=e.Values.map(e=>(0,l.jsx)(M.Z,{value:e,children:e},e));if(e.CustomValue){let e=(0,l.jsx)(M.Z,{value:"other",children:"Outro"},"other");u.push(e)}return(0,l.jsxs)(R.Z,{sx:{minWidth:"50%"},error:r.some(t=>t.id===e.ID.toString()),required:e.Required,children:[(0,l.jsx)(j.Z,{id:"combo-".concat(e.ID),children:e.Name}),(0,l.jsx)(b.Z,{title:e.Desc,arrow:!0,children:(0,l.jsx)(V.Z,{labelId:"combo-".concat(e.ID),id:"combo-".concat(e.ID,"-label"),value:o.value,onChange:l=>{let a=l.target.value,s="other"===l.target.value;i(t.ID,{id:e.ID,value:s?"":a,customValue:s})},fullWidth:!0,children:u})}),(0,l.jsx)(U.Z,{children:null===(a=r.find(t=>t.id===e.ID.toString()))||void 0===a?void 0:a.message})]})},w=e=>{let t=s(e.ID);if(!t)return(0,l.jsx)(l.Fragment,{});let i=e.CustomValue&&t.customValue;return e.Values&&e.Values.length&&!i?S(e):v(e)};return a.useEffect(()=>{let e=t.Fields.filter(e=>e.MultiField),i=o[t.ID];!c.length&&e.length&&i&&i.inputs&&F(Object.keys(i.inputs).filter(t=>e.some(e=>e.ID===Number(t))).map(e=>Number(e)))},[t,o,c,F]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(I.Z,{container:!0,children:[(0,l.jsx)(I.Z,{size:{xs:10,md:10},children:(0,l.jsx)(y.Z,{variant:"h5",component:"h5",style:{margin:"20px 0 20px 0"},children:t.Name})}),(0,l.jsx)(I.Z,{alignContent:"center",children:(0,l.jsx)(b.Z,{title:"Exportar dados preenchidos para continuar mais tarde",arrow:!0,children:(0,l.jsx)(p.Z,{variant:"outlined",onClick:()=>q(o),endIcon:(0,l.jsx)(P.Z,{}),children:"Exportar"})})})]}),(0,l.jsxs)(I.Z,{container:!0,children:[t.Desc?(0,l.jsx)(I.Z,{size:{xs:12,md:12},sx:{margin:"10px 0 20px 0"},children:(0,l.jsx)(N.Z,{icon:(0,l.jsx)(G.Z,{fontSize:"inherit"}),severity:"warning",children:t.Desc})}):void 0,t.Fields.some(e=>e.MultiField)?(0,l.jsxs)(l.Fragment,{children:[c.map(e=>(0,l.jsx)(I.Z,{size:{xs:12,md:12},sx:{minHeight:"85px"},children:w(e)},e.ID)),(()=>{let e=[],i=new Set(n.filter(e=>!!e.MultiFieldGroup).map(e=>e.MultiFieldGroup));i.size?Array.from(i).map(e=>({name:e,items:n.filter(t=>t.MultiFieldGroup===e)})).forEach(t=>{e.push((0,l.jsx)(M.Z,{style:{backgroundColor:"#e1dbda"},value:t.name,children:t.name},t.name)),e.push(...t.items.map(e=>(0,l.jsx)(M.Z,{value:e.ID,children:e.Name},e.ID)))}):e=n.map(e=>(0,l.jsx)(M.Z,{value:e.ID,children:e.Name},e.ID));let a=e=>{Array.from(i).some(t=>t===e)||h(Number(e))};return(0,l.jsxs)(R.Z,{fullWidth:!0,children:[(0,l.jsx)(j.Z,{id:"combo-multifield-".concat(t.Name),children:"Escolha ..."}),(0,l.jsx)(V.Z,{labelId:"combo-multifield-".concat(t.Name),id:"combo-multifield-".concat(t.Name,"-label"),value:"",onChange:e=>a(e.target.value),fullWidth:!0,children:e})]})})()]}):t.Fields.map(e=>(0,l.jsx)(I.Z,{size:{xs:12,md:12},sx:{minHeight:"85px"},children:w(e)},e.ID))]})]})};var E=i(89869),K=i(89621),O=i(62197),z=i(92856),k=i(16463);let A=e=>{let{onBeforeSend:t,onError:i}=e,{getData:a,inputGroups:s,setResult:r,form:{Disclaimer:o}}=(0,x.P)(e=>e),u=async()=>{let e;t();try{(e=await v(a()))&&r(e)}catch(e){console.log("error",e)}e&&(0,k.redirect)("result"),i("error")};return(0,l.jsxs)(I.Z,{container:!0,spacing:2,style:{height:"780px"},children:[(0,l.jsxs)(I.Z,{size:{xs:12,md:12},container:!0,alignContent:"center",justifyContent:"center",flexDirection:"column",style:{textAlign:"center"},children:[(0,l.jsx)(y.Z,{gutterBottom:!0,variant:"h5",component:"div",children:"Preenchimento conclu\xeddo"}),(0,l.jsx)(y.Z,{variant:"body2",sx:{color:"text.secondary"},children:o})]}),(0,l.jsxs)(I.Z,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"flex-start",children:[(0,l.jsx)(b.Z,{title:"Exportar dados preenchidos para continuar mais tarde",arrow:!0,children:(0,l.jsx)(p.Z,{variant:"outlined",onClick:()=>q(s),endIcon:(0,l.jsx)(P.Z,{}),children:"Exportar"})}),(0,l.jsx)(b.Z,{title:"Efectuar os calculos e visualizar os resultados",arrow:!0,children:(0,l.jsx)(p.Z,{variant:"contained",endIcon:(0,l.jsx)(z.Z,{}),onClick:u,size:"large",children:"Calcular"})})]})]})};var W=i(70374),B=i(41573),T=i(84556);let _=(0,i(48024).ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),L=e=>{let{onBegin:t}=e,{form:i,setInputGroups:s}=(0,x.P)(e=>e),[r,o]=a.useState({show:!1}),u=async e=>{let t=await S(e);if(t.errorMessage){o({show:!0,message:t.errorMessage,severity:"error"});return}if(!t.data){o({show:!0,message:"Erro na leitura do ficheiro",severity:"error"});return}s(Object.values(t.data)),o({show:!0,message:"Ficheiro importado com sucesso!"})};return(0,l.jsxs)(I.Z,{container:!0,spacing:2,style:{height:"780px"},children:[(0,l.jsxs)(I.Z,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"center",style:{textAlign:"center"},children:[(0,l.jsx)(y.Z,{gutterBottom:!0,variant:"h5",component:"div",children:i.Title}),(0,l.jsx)(y.Z,{variant:"body2",sx:{color:"text.secondary"},children:i.Desc})]}),(0,l.jsxs)(I.Z,{size:{xs:12,md:12},container:!0,justifyContent:"center",alignContent:"flex-start",children:[(0,l.jsx)(b.Z,{title:"Importar dados de uma calculadora previamente preenchida",arrow:!0,children:(0,l.jsxs)(p.Z,{variant:"outlined",endIcon:(0,l.jsx)(T.Z,{}),size:"large",component:"label",children:["Importar",(0,l.jsx)(_,{type:"file",onChange:e=>u(e)})]})}),(0,l.jsx)(b.Z,{title:"Iniciar o preenchimento dos dados para a calculadora",arrow:!0,children:(0,l.jsx)(p.Z,{variant:"contained",endIcon:(0,l.jsx)(B.Z,{}),onClick:()=>{t()},size:"large",children:"Iniciar"})})]}),(0,l.jsx)(W.Z,{open:r.show,autoHideDuration:6e3,onClose:()=>o({show:!1}),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,l.jsx)(N.Z,{onClose:()=>o({show:!1}),severity:r.severity||"success",variant:"filled",sx:{width:"100%"},children:r.message})})]})};var J=i(11276),X=i(40468);let Q=e=>{let{message:t}=e;return(0,l.jsx)(O.Z,{maxWidth:"md",children:(0,l.jsx)(I.Z,{container:!0,children:(0,l.jsxs)(I.Z,{size:{xs:12,md:12},sx:{minHeight:"780px"},alignContent:"center",justifyItems:"center",children:[(0,l.jsx)(y.Z,{variant:"h6",children:t||"Aguarde"}),(0,l.jsx)(X.Z,{color:"inherit"})]})})})};var Y=i(29482),ee=i(81115);let et=e=>{let{message:t,description:i,onRetry:a}=e;return(0,l.jsx)(O.Z,{maxWidth:"md",children:(0,l.jsx)(I.Z,{container:!0,children:(0,l.jsxs)(I.Z,{size:{xs:12,md:12},sx:{minHeight:"780px"},alignContent:"center",justifyItems:"center",children:[(0,l.jsx)(ee.Z,{sx:{color:"red",width:"50px",height:"50px"}}),(0,l.jsx)(y.Z,{variant:"h5",children:t||"Ocorreu um erro!"}),(0,l.jsx)(y.Z,{variant:"h6",color:"secondary",children:i||"Infelizmente nao fomos capazes de concluir a opera\xe7\xe3o, por favor tente mais tarde."}),a?(0,l.jsx)(p.Z,{variant:"contained",onClick:a,size:"large",sx:{marginTop:"50px"},children:"tentar novamente"}):null]})})})},ei=()=>{let e=(0,k.useSearchParams)().get("id");(0,Y.g)(!0);let[t,i]=a.useState({initialStep:0,nextStep:()=>{},previousStep:()=>{},goToStep:e=>{console.log("navigate to step "+e)}}),[r,o]=a.useState(0),{setNextStep:n,setForm:d,form:c,hasErrors:m,routerParam:p,setRouterParam:h,setInputGroups:F}=(0,x.P)(e=>e),[D,v]=a.useState((0,E.Z)()),[f,R]=a.useState(!1),[j,V]=a.useState(),M=async()=>{let e=r+1;n(e),await m()||(o(e),t.nextStep())},U=(0,a.useCallback)(async()=>{R(!0);let t=c;if(!e&&!t.ID){V({}),R(!1);return}if(!t.ID&&e)try{V(void 0),t=await C(e),d(t)}catch(e){V({}),R(!1)}v((0,E.Z)((0,J.W)("#".concat(t.Colors[0]),"#".concat(t.Colors[1])))),R(!1)},[e,c,d]),b=()=>c?c.Groups.map(e=>(0,l.jsx)(s,{children:(0,l.jsx)(w,{group:e})},e.ID)):[],Z=a.useCallback(async()=>{n(7),await m()||(o(7),t.goToStep(8),h(""))},[m,n,t,h]);(0,a.useEffect)(()=>{U()},[U]),(0,a.useEffect)(()=>{"new"===p&&0===r&&(h(""),F([])),"edit"===p&&0===r&&Z()},[r,Z,p,d,F,h]);let y=()=>[(0,l.jsx)(L,{onBegin:M},"initialStep"),...b(),(0,l.jsx)(A,{onBeforeSend:()=>R(!0),onError:N},"finalStep")],N=()=>{R(!1),V({onRetry:()=>{V(void 0),o(0)}})};return(0,l.jsx)(K.Z,{theme:D,defaultMode:"light",children:f?(0,l.jsx)(Q,{}):j?(0,l.jsx)(et,{onRetry:j.onRetry}):(0,l.jsx)(O.Z,{maxWidth:"md",children:(0,l.jsxs)(I.Z,{container:!0,children:[(0,l.jsx)(I.Z,{size:{xs:12,md:12},sx:{minHeight:"780px"},children:(0,l.jsx)(u(),{instance:e=>i({...t,...e}),children:y()})}),(0,l.jsx)(I.Z,{size:{xs:12,md:12},children:(0,l.jsx)(g,{activeStep:r,handleBack:()=>{let e=r-1;n(e),o(e),t.previousStep()},handleNext:M,totalSteps:y().length})})]})})})},el=(0,r.default)(()=>Promise.resolve(ei),{ssr:!1})},56007:(e,t,i)=>{"use strict";i.d(t,{P:()=>u});var l=i(10903);let a=[2002],s=[],r=async(e,t)=>{let l=async()=>(await Promise.all(a.map(async t=>{let l=await i(27267)("./".concat(t)),a=e.getInput(t),r=l.default(a,e);r&&s.push({id:t.toString(),message:r})})),t(s),s.length>0);if(s.length=0,!e||1===e.nextStep)return!1;let r=e.form.Groups[e.nextStep-2];return r.Fields.forEach(t=>{var i;let l=null===(i=e.inputGroups[r.ID])||void 0===i?void 0:i.inputs[t.ID];t.Required&&!l&&s.push({id:t.ID.toString(),message:t.Name+" \xe9 um campo obrigat\xf3rio"}),(t.Required||l&&l.value)&&((l&&t.CustomValue&&!t.Values.some(e=>e===l.value)||!t.Values.length)&&t.Units.length>0&&l&&(!l.unit||"empty"===l.unit)&&s.push({id:"".concat(t.ID,"_un"),message:"Campo obrigat\xf3rio"}),(0===t.Values.length||l&&t.Values.length>0&&t.CustomValue&&!t.Values.some(e=>e===l.value))&&l&&t.Regex&&!new RegExp(t.Regex).test(l.value)&&s.push({id:t.ID.toString(),message:"Campo ".concat(t.Name," inv\xe1lido")}))}),await l()},o={routerParam:"",nextStep:0,form:{ID:"",Groups:[],Title:"",Colors:[],Desc:"",Disclaimer:""},setForm:e=>{console.log(e)},inputGroups:{},setInputGroups:e=>{console.log(e)},getData:()=>({}),setInput:(e,t)=>{console.log(e+t.value)},getInput:e=>{console.log(e)},deleteInput:e=>{console.log(e)},setNextStep:e=>{console.log(e)},hasErrors:()=>Promise.resolve(!1),errors:[],result:void 0,setResult:e=>{console.log(e)},setRouterParam:e=>{console.log(e)}},u=(0,l.U)((e,t)=>({...o,setForm:t=>e(e=>({...e,form:t})),setNextStep:t=>e(e=>({...e,nextStep:t})),setInputGroups:t=>e(e=>({...e,inputGroups:Object.fromEntries(t.map(e=>[e.id,e]))})),getData:()=>({ID:t().form.ID,Groups:Object.values(t().inputGroups).map(e=>({ID:e.id,Values:Object.values(e.inputs).map(e=>({ID:e.id,Value:e.value,Unit:e.unit})).filter(e=>!!e.Value)}))}),errors:[],hasErrors:()=>r(t(),t=>e(e=>({...e,errors:t}))),getInput:e=>{let i=[];return Object.values(t().inputGroups).forEach(e=>i.push(...Object.values(e.inputs))),i.find(t=>t.id===e)||{id:e,value:"",unit:""}},deleteInput:t=>e(e=>{if(!t)return e;let i=Object.values(e.inputGroups).find(e=>Object.values(e.inputs).some(e=>e.id===t));if(!i)return e;let l=Object.values(i.inputs).filter(e=>e.id!==t);return{...e,inputGroups:{...e.inputGroups,[i.id]:{...i,inputs:l}}}}),setInput:(i,l)=>{let{id:a,value:s,unit:r,customValue:o}=l;return e(e=>{let l=t().getInput(a);if(!l)return e;let u={id:a,value:s,unit:r||l.unit,customValue:void 0!=o?o:l.customValue},n=e.inputGroups[i]||{id:i,inputs:{}},d=Object.values(n.inputs).length>0?{...n.inputs,[a]:u}:{[a]:u};return{...e,inputGroups:{...e.inputGroups,[i]:{...n,inputs:d}}}})},setResult:t=>e(e=>({...e,result:t})),setRouterParam:t=>e(e=>({...e,routerParam:t}))}))},29482:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var l=i(2265),a=i(77641),s=i(35029);let r=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Are you sure want to leave this page?";(0,s.Z)(e,t),(0,l.useEffect)(()=>{let i=()=>{if(e&&!window.confirm(t))throw"Route Canceled"};return a.default.events.on("beforeHistoryChange",i),()=>{a.default.events.off("beforeHistoryChange",i)}},[e,t])}},11276:(e,t,i)=>{"use strict";i.d(t,{W:()=>a});var l=i(7564);let a=(e,t)=>({palette:{primary:{main:e},secondary:{main:t},background:{default:"#ffffff",paper:"#f5f5f5"}},typography:{allVariants:{color:e}},components:{MuiInputLabel:{styleOverrides:{root:{backgroundColor:"white",padding:"0 10px 0 10px",color:t,["&.".concat(l.Z.focused)]:{color:t}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:e,"&:hover":{borderColor:"red"}}}},MuiButton:{styleOverrides:{outlined:{color:t}}},MuiMenuItem:{styleOverrides:{root:{color:t}}}}})}},e=>{var t=t=>e(e.s=t);e.O(0,[27,387,130,215,744],()=>t(98528)),_N_E=e.O()}]);