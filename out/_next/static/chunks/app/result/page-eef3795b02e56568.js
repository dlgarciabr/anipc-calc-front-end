(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{27267:(e,t,r)=>{var l={"./2002":[33833,833],"./2002.ts":[33833,833]};function i(e){if(!r.o(l,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=l[e],i=t[0];return r.e(t[1]).then(()=>r(i))}i.keys=()=>Object.keys(l),i.id=27267,e.exports=i},72431:()=>{},94863:(e,t,r)=>{Promise.resolve().then(r.bind(r,52916))},52916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var l=r(57437),i=r(2265),s=r(92434),n=r(80511),o=r(14595),a=r(89869),u=r(61096),c=r(80824),d=r(66124),p=r(23269),x=r(98784),h=r(76548),m=r(89621),g=r(62197),j=r(88929),v=r(31655),f=r(57818),Z=r(7610),b=r(98530),y=r(5322),V=r(4504),I=r(12514),C=r(37578),z=r(11276),w=r(56007),D=r(16463),O=r(57603),N=r(79134),T=r(27316),G=r(28027),E=r(99163),R=r(24881);let k=(e,t)=>new O.Z(e).toFixed(t).replaceAll(".",","),P=e=>{let{group:t}=e,r=(0,E.U)(),i=(0,R.YD)();if(!r||!r.identifier||void 0===r.identifier.dataIndex||!i)return null;let s=(null==i?void 0:i.pointerType)==="mouse",o=s?0:40-i.height;return(0,l.jsx)(N.Z,{children:(0,l.jsx)(T.Z,{sx:{pointerEvents:"none",zIndex:e=>e.zIndex.modal},open:!0,placement:s?"top-end":"top",anchorEl:function(e){if(null===e)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};let{x:t,y:r}=e,l={width:0,height:0,x:t,y:r,top:r,right:t,bottom:r,left:t};return{getBoundingClientRect:()=>({...l,toJSON:()=>JSON.stringify(l)})}}(i),modifiers:[{name:"offset",options:{offset:[0,o]}}],children:(0,l.jsx)(G.Z,{elevation:0,sx:{m:1,p:1.5,border:"solid",borderWidth:2,borderColor:"divider"},children:(0,l.jsxs)(j.Z,{direction:"row",alignItems:"center",children:[(0,l.jsx)("div",{style:{width:11,height:11,borderRadius:"50%",backgroundColor:r.color}}),(0,l.jsx)(n.Z,{sx:{ml:2},color:"secondary",fontWeight:"light",children:t.Values[r.identifier.dataIndex].Title}),(0,l.jsx)(n.Z,{sx:{ml:2,color:"black"},children:null===r.value?"":k(r.value,2)})]})})})})};var A=r(87070),S=r(15013),F=r(93324),L=r(20016),U=r(29482);let B=()=>{(0,U.g)(!0);let{form:e,result:t,setRouterParam:r}=(0,w.P)(e=>e),[f,N]=i.useState(!1),T=i.useId();e.ID&&t||(0,D.redirect)("calculator");let G="#".concat(e.Colors[0]),E="#".concat(e.Colors[1]),R=(e,t)=>{let r=Number(e);return isNaN(r)?e:k(r,t)},k=(e,t)=>new O.Z(e).toFixed(t).replaceAll(".",","),B=(e,t)=>{let r=e.slice(0,2).reduce((e,t)=>{let{Value:r}=t;return e+Number(r)},0);return 100*Number(e[t].Value)/r},_=(e,t)=>{let r=e.some(e=>"blank"===e.Type);return e.map((e,i)=>(0,l.jsx)(s.Z,{container:!0,size:{xs:12,md:r?12:6},alignItems:"start",children:M(e,t)},i))},M=(e,t)=>e.Values.map(e=>{let r=e.Unit?"".concat(e.Value," ").concat(e.Unit):e.Value;return t&&(r=e.Unit?"".concat(R(e.Value,2)," ").concat(e.Unit):R(e.Value,2)),(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(s.Z,{size:{xs:6,md:6},style:{textAlign:"left"},children:(0,l.jsx)(n.Z,{variant:"body1",color:"secondary",children:e.Title})}),(0,l.jsx)(s.Z,{size:{xs:6,md:6},style:{textAlign:"left"},children:(0,l.jsx)(n.Z,{variant:"body1",color:"secondary",children:r})})]},e.Title)}),W=e=>(0,l.jsx)(s.Z,{container:!0,size:{xs:12,md:12},style:{margin:"30px 0 30px 0"},children:e.map(e=>"graph:bars"===e.Type?q(e):"graph:circular"===e.Type?J(e):void 0)}),J=e=>(0,l.jsxs)(s.Z,{container:!0,size:{xs:12,md:6},children:[(0,l.jsx)(s.Z,{size:{xs:12,md:12},children:(0,l.jsx)(n.Z,{variant:"h6",children:e.Title})}),(0,l.jsx)(s.Z,{size:{xs:12,md:12},justifyItems:"center",children:(0,l.jsx)(Z.u,{width:270,height:320,colors:[G,E],series:[{data:[{id:0,value:B(e.Values,0),label:e.Values[0].Title},{id:1,value:B(e.Values,1),label:e.Values[1].Title}],innerRadius:50,outerRadius:100,paddingAngle:5,cornerRadius:5,startAngle:0,cx:130,cy:130,valueFormatter:e=>null===e?"":k(e.value,2)}],slotProps:{legend:{direction:"column",position:{vertical:"bottom",horizontal:"middle"},padding:0}}})})]},e.Title),q=e=>{let t="".concat(T,"-clip-path");return(0,l.jsxs)(s.Z,{container:!0,size:{xs:12,md:6},sx:{marginTop:{xs:"20px",md:"0"}},children:[(0,l.jsx)(s.Z,{size:{xs:12,md:12},children:(0,l.jsx)(n.Z,{variant:"h6",children:e.Title})}),(0,l.jsx)(s.Z,{size:{xs:12,md:12},children:(0,l.jsxs)(b.D,{height:300,dataset:[{shortLabel:e.Values[0].Label,value:Number(e.Values[0].Value)},{shortLabel:e.Values[1].Label,value:Number(e.Values[1].Value)},{shortLabel:e.Values[2].Label,value:Number(e.Values[2].Value)},{shortLabel:e.Values[3].Label,value:Number(e.Values[3].Value)}],series:[{type:"bar",dataKey:"value"}],xAxis:[{scaleType:"band",dataKey:"shortLabel",colorMap:{type:"ordinal",colors:["#".concat(e.Values[0].Color),"#".concat(e.Values[1].Color),"#".concat(e.Values[2].Color),"#".concat(e.Values[3].Color)]}}],children:[(0,l.jsx)(y.h,{id:t}),(0,l.jsx)("g",{clipPath:"url(#".concat(t,")"),children:(0,l.jsx)(V.E,{})}),(0,l.jsx)(I.U,{}),(0,l.jsx)(C.N,{}),(0,l.jsx)(P,{group:e})]})})]},e.Title)},H=(0,a.Z)((0,z.W)(G,E));return(0,l.jsxs)(m.Z,{theme:H,defaultMode:"light",children:[(0,l.jsxs)(g.Z,{maxWidth:"lg",children:[(0,l.jsx)(s.Z,{container:!0,spacing:2,justifyContent:"center",children:(0,l.jsx)(s.Z,{children:(0,l.jsx)(n.Z,{gutterBottom:!0,variant:"h5",component:"div",color:"primary",children:(0,l.jsx)("strong",{children:t.Title})})})}),(0,l.jsx)(s.Z,{container:!0,spacing:2,children:(0,l.jsx)(j.Z,{direction:"row",width:"100%",textAlign:"center",spacing:2,children:(0,l.jsxs)(s.Z,{container:!0,size:{xs:12,md:12},children:[t.Reports.map((e,t)=>{if(0===e.Groups.length)return null;let r=e.Groups[0],i=2===e.Groups.length?e.Groups[1]:void 0;return(0,l.jsxs)(s.Z,{container:!0,size:{xs:12,md:12},children:[(0,l.jsxs)(s.Z,{size:{xs:12,md:12},children:[(0,l.jsx)(s.Z,{size:{xs:12,md:12},style:{textAlign:"left",marginTop:"20px"},children:(0,l.jsx)(n.Z,{variant:"h5",children:e.Title})}),(0,l.jsx)(s.Z,{size:{xs:12,md:12},children:(0,l.jsx)(o.Z,{style:{marginBottom:"15px"}})}),e.Desc?e.Desc.map((e,t)=>(0,l.jsx)(s.Z,{size:{xs:12,md:12},style:{textAlign:"left",marginBottom:"20px"},children:(0,l.jsx)(n.Z,{variant:"caption",color:"secondary",children:e})},t)):null]}),_(r,0!=t),i?W(i):null]},e.Title)}),(e=>(0,l.jsx)(s.Z,{container:!0,size:{xs:12,md:12},style:{marginBottom:"20px"},children:(0,l.jsxs)(s.Z,{size:{xs:12,md:12},children:[(0,l.jsx)(s.Z,{size:{xs:12,md:12},style:{textAlign:"left"},children:(0,l.jsx)(n.Z,{variant:"h5",children:e.Title})}),(0,l.jsx)(s.Z,{size:{xs:12,md:12},children:(0,l.jsx)(o.Z,{style:{marginBottom:"15px"}})}),e.Desc?e.Desc.map((e,t)=>(0,l.jsx)(s.Z,{size:{xs:12,md:12},style:{textAlign:"left"},children:""===e?(0,l.jsx)(n.Z,{variant:"caption",color:"secondary",children:"\xa0"}):(0,l.jsx)(n.Z,{variant:"caption",color:"secondary",children:e})},t)):null]})},e.Title))(t.Reports[3])]})})}),(0,l.jsxs)(s.Z,{size:{xs:12,md:12},container:!0,justifyContent:"space-evenly",alignContent:"flex-start",sx:{marginBottom:"50px"},children:[(0,l.jsx)(v.Z,{title:"Voltar e editar a simula\xe7\xe3o atual",arrow:!0,children:(0,l.jsx)(h.Z,{variant:"outlined",endIcon:(0,l.jsx)(A.Z,{}),onClick:()=>{r("edit"),(0,D.redirect)("calculator")},size:"large",children:"voltar"})}),(0,l.jsx)(v.Z,{title:"Exportar simula\xe7\xe3o para Excel",arrow:!0,children:(0,l.jsx)(h.Z,{variant:"contained",endIcon:(0,l.jsx)(F.Z,{}),size:"large",component:"label",onClick:()=>alert("em breve!"),children:"Excel"})}),(0,l.jsx)(v.Z,{title:"Exportar simula\xe7\xe3o para PDF",arrow:!0,children:(0,l.jsx)(h.Z,{variant:"contained",endIcon:(0,l.jsx)(S.Z,{}),size:"large",component:"label",onClick:()=>alert("em breve!"),children:"PDF"})}),(0,l.jsx)(v.Z,{title:"Iniciar o preenchimento de uma nova simula\xe7\xe3o",arrow:!0,children:(0,l.jsx)(h.Z,{variant:"outlined",endIcon:(0,l.jsx)(L.Z,{}),onClick:()=>N(!0),size:"large",children:"Nova"})})]})]}),(0,l.jsxs)(u.Z,{open:f,onClose:()=>N(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,l.jsx)(c.Z,{id:"alert-dialog-title",children:(0,l.jsx)(n.Z,{color:"secondary",children:"Deseja preencher uma nova simula\xe7\xe3o?"})}),(0,l.jsx)(d.Z,{children:(0,l.jsx)(p.Z,{id:"alert-dialog-description",children:"Ao continuar as informa\xe7\xf5es previamente preenchidas ser\xe3o perdidas."})}),(0,l.jsxs)(x.Z,{children:[(0,l.jsx)(h.Z,{onClick:()=>N(!1),children:"Cancelar"}),(0,l.jsx)(h.Z,{onClick:()=>{r("new"),(0,D.redirect)("calculator")},autoFocus:!0,children:"Continuar"})]})]})]})},_=(0,f.default)(()=>Promise.resolve(B),{ssr:!1})},56007:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var l=r(10903);let i=[2002],s=[],n=async(e,t)=>{let l=async()=>(await Promise.all(i.map(async t=>{let l=await r(27267)("./".concat(t)),i=e.getInput(t),n=l.default(i,e);n&&s.push({id:t.toString(),message:n})})),t(s),s.length>0);if(s.length=0,!e||1===e.nextStep)return!1;let n=e.form.Groups[e.nextStep-2];return n.Fields.forEach(t=>{var r;let l=null===(r=e.inputGroups[n.ID])||void 0===r?void 0:r.inputs[t.ID];t.Required&&!l&&s.push({id:t.ID.toString(),message:t.Name+" \xe9 um campo obrigat\xf3rio"}),(t.Required||l&&l.value)&&((l&&t.CustomValue&&!t.Values.some(e=>e===l.value)||!t.Values.length)&&t.Units.length>0&&l&&(!l.unit||"empty"===l.unit)&&s.push({id:"".concat(t.ID,"_un"),message:"Campo obrigat\xf3rio"}),(0===t.Values.length||l&&t.Values.length>0&&t.CustomValue&&!t.Values.some(e=>e===l.value))&&l&&t.Regex&&!new RegExp(t.Regex).test(l.value)&&s.push({id:t.ID.toString(),message:"Campo ".concat(t.Name," inv\xe1lido")}))}),await l()},o={routerParam:"",nextStep:0,form:{ID:"",Groups:[],Title:"",Colors:[],Desc:"",Disclaimer:""},setForm:e=>{console.log(e)},inputGroups:{},setInputGroups:e=>{console.log(e)},getData:()=>({}),setInput:(e,t)=>{console.log(e+t.value)},getInput:e=>{console.log(e)},deleteInput:e=>{console.log(e)},setNextStep:e=>{console.log(e)},hasErrors:()=>Promise.resolve(!1),errors:[],result:void 0,setResult:e=>{console.log(e)},setRouterParam:e=>{console.log(e)}},a=(0,l.U)((e,t)=>({...o,setForm:t=>e(e=>({...e,form:t})),setNextStep:t=>e(e=>({...e,nextStep:t})),setInputGroups:t=>e(e=>({...e,inputGroups:Object.fromEntries(t.map(e=>[e.id,e]))})),getData:()=>({ID:t().form.ID,Groups:Object.values(t().inputGroups).map(e=>({ID:e.id,Values:Object.values(e.inputs).map(e=>({ID:e.id,Value:e.value,Unit:e.unit})).filter(e=>!!e.Value)}))}),errors:[],hasErrors:()=>n(t(),t=>e(e=>({...e,errors:t}))),getInput:e=>{let r=[];return Object.values(t().inputGroups).forEach(e=>r.push(...Object.values(e.inputs))),r.find(t=>t.id===e)||{id:e,value:"",unit:""}},deleteInput:t=>e(e=>{if(!t)return e;let r=Object.values(e.inputGroups).find(e=>Object.values(e.inputs).some(e=>e.id===t));if(!r)return e;let l=Object.values(r.inputs).filter(e=>e.id!==t);return{...e,inputGroups:{...e.inputGroups,[r.id]:{...r,inputs:l}}}}),setInput:(r,l)=>{let{id:i,value:s,unit:n,customValue:o}=l;return e(e=>{let l=t().getInput(i);if(!l)return e;let a={id:i,value:s,unit:n||l.unit,customValue:void 0!=o?o:l.customValue},u=e.inputGroups[r]||{id:r,inputs:{}},c=Object.values(u.inputs).length>0?{...u.inputs,[i]:a}:{[i]:a};return{...e,inputGroups:{...e.inputGroups,[r]:{...u,inputs:c}}}})},setResult:t=>e(e=>({...e,result:t})),setRouterParam:t=>e(e=>({...e,routerParam:t}))}))},29482:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var l=r(2265),i=r(77641),s=r(35029);let n=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Are you sure want to leave this page?";(0,s.Z)(e,t),(0,l.useEffect)(()=>{let r=()=>{if(e&&!window.confirm(t))throw"Route Canceled"};return i.default.events.on("beforeHistoryChange",r),()=>{i.default.events.off("beforeHistoryChange",r)}},[e,t])}},11276:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var l=r(7564);let i=(e,t)=>({palette:{primary:{main:e},secondary:{main:t},background:{default:"#ffffff",paper:"#f5f5f5"}},typography:{allVariants:{color:e}},components:{MuiInputLabel:{styleOverrides:{root:{backgroundColor:"white",padding:"0 10px 0 10px",color:t,["&.".concat(l.Z.focused)]:{color:t}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:e,"&:hover":{borderColor:"red"}}}},MuiButton:{styleOverrides:{outlined:{color:t}}},MuiMenuItem:{styleOverrides:{root:{color:t}}}}})}},e=>{var t=t=>e(e.s=t);e.O(0,[27,55,130,215,744],()=>t(94863)),_N_E=e.O()}]);