(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{11127:(e,l,t)=>{Promise.resolve().then(t.bind(t,38796))},38796:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>W});var i=t(95155),r=t(12115),n=t(24689),s=t(65358),a=t(80158),o=t(35902),c=t(62861),d=t(62966),x=t(12422),u=t(42921),h=t(78679),m=t(55857),A=t(1042),j=t(63159),p=t(67569),g=t(26096),b=t(55028),v=t(74628),y=t(93408),f=t(82763),z=t(21718),V=t(33263),C=t(95529),T=t(25471),w=t(52282),N=t(35695),k=t(43598),I=t(45282),E=t(76438),L=t(81063),R=t(86036),B=t(44304);let O=(e,l)=>new k.A(e).toFixed(l).replaceAll(".",","),D=e=>{let{group:l}=e,t=(0,R.K)(),r=(0,B.H7)();if(!t||!t.identifier||void 0===t.identifier.dataIndex||!r)return null;let n=(null==r?void 0:r.pointerType)==="mouse",a=n?0:40-r.height;return(0,i.jsx)(I.A,{children:(0,i.jsx)(E.A,{sx:{pointerEvents:"none",zIndex:e=>e.zIndex.modal},open:!0,placement:n?"top-end":"top",anchorEl:function(e){if(null===e)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};let{x:l,y:t}=e,i={width:0,height:0,x:l,y:t,top:t,right:l,bottom:t,left:l};return{getBoundingClientRect:()=>({...i,toJSON:()=>JSON.stringify(i)})}}(r),modifiers:[{name:"offset",options:{offset:[0,a]}}],children:(0,i.jsx)(L.A,{elevation:0,sx:{m:1,p:1.5,border:"solid",borderWidth:2,borderColor:"divider"},children:(0,i.jsxs)(p.A,{direction:"row",alignItems:"center",children:[(0,i.jsx)("div",{style:{width:11,height:11,borderRadius:"50%",backgroundColor:t.color}}),(0,i.jsx)(s.A,{sx:{ml:2},color:"secondary",fontWeight:"light",children:l.Values[t.identifier.dataIndex].Title}),(0,i.jsx)(s.A,{sx:{ml:2,color:"black"},children:null===t.value?"":O(t.value,2)})]})})})})};var U=t(1384),_=t(61786),F=t(15843),S=t(21156),G=t(22070);let P=()=>{(0,S.k)(!0);let{form:e,result:l,setRouterParam:t,getData:b}=(0,w.i)(e=>e),[I,E]=r.useState(!1),[L,R]=r.useState(!1),B=r.useId();e.ID&&l||(0,N.redirect)("calculator");let O="#".concat(e.Colors[0]),P="#".concat(e.Colors[1]),W=async()=>{R(!0);try{let e=await (0,G.OE)(b()),l=window.URL.createObjectURL(e.content),t=document.createElement("a");t.href=l,t.setAttribute("download",e.name),document.body.appendChild(t),t.click()}catch(e){console.log("error",e)}R(!1)},J=(e,l)=>{let t=Number(e);return isNaN(t)?e:K(t,l)},K=(e,l)=>new k.A(e).toFixed(l).replaceAll(".",","),M=(e,l)=>{let t=e.slice(0,2).reduce((e,l)=>{let{Value:t}=l;return e+Number(t)},0);return 100*Number(e[l].Value)/t},H=(e,l)=>{let t=e.some(e=>"blank"===e.Type);return e.map((e,r)=>(0,i.jsx)(n.A,{container:!0,size:{xs:12,md:t?12:6},alignItems:"start",children:q(e,l)},r))},q=(e,l)=>e.Values.map(e=>{let t=e.Unit?"".concat(e.Value," ").concat(e.Unit):e.Value;return l&&(t=e.Unit?"".concat(J(e.Value,2)," ").concat(e.Unit):J(e.Value,2)),(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(n.A,{size:{xs:6,md:6},style:{textAlign:"left"},children:(0,i.jsx)(s.A,{variant:"body1",color:"secondary",children:e.Title})}),(0,i.jsx)(n.A,{size:{xs:6,md:6},style:{textAlign:"left"},children:(0,i.jsx)(s.A,{variant:"body1",color:"secondary",children:t})})]},e.Title)}),Q=e=>(0,i.jsx)(n.A,{container:!0,size:{xs:12,md:12},style:{margin:"30px 0 30px 0"},children:e.map(e=>"graph:bars"===e.Type?Y(e):"graph:circular"===e.Type?X(e):void 0)}),X=e=>(0,i.jsxs)(n.A,{container:!0,size:{xs:12,md:6},children:[(0,i.jsx)(n.A,{size:{xs:12,md:12},children:(0,i.jsx)(s.A,{variant:"h6",children:e.Title})}),(0,i.jsx)(n.A,{size:{xs:12,md:12},justifyItems:"center",children:(0,i.jsx)(v.r,{width:270,height:320,colors:[O,P],series:[{data:[{id:0,value:M(e.Values,0),label:e.Values[0].Title},{id:1,value:M(e.Values,1),label:e.Values[1].Title}],innerRadius:50,outerRadius:100,paddingAngle:5,cornerRadius:5,startAngle:0,cx:130,cy:130,valueFormatter:e=>null===e?"":"".concat(K(e.value,2),"%")}],slotProps:{legend:{direction:"column",position:{vertical:"bottom",horizontal:"middle"},padding:0}}})})]},e.Title),Y=e=>{let l="".concat(B,"-clip-path");return(0,i.jsxs)(n.A,{container:!0,size:{xs:12,md:6},sx:{marginTop:{xs:"20px",md:"0"}},children:[(0,i.jsx)(n.A,{size:{xs:12,md:12},children:(0,i.jsx)(s.A,{variant:"h6",children:e.Title})}),(0,i.jsx)(n.A,{size:{xs:12,md:12},children:(0,i.jsxs)(y.E,{height:300,dataset:[{shortLabel:e.Values[0].Label,value:Number(e.Values[0].Value)},{shortLabel:e.Values[1].Label,value:Number(e.Values[1].Value)},{shortLabel:e.Values[2].Label,value:Number(e.Values[2].Value)},{shortLabel:e.Values[3].Label,value:Number(e.Values[3].Value)}],series:[{type:"bar",dataKey:"value"}],xAxis:[{scaleType:"band",dataKey:"shortLabel",colorMap:{type:"ordinal",colors:["#".concat(e.Values[0].Color),"#".concat(e.Values[1].Color),"#".concat(e.Values[2].Color),"#".concat(e.Values[3].Color)]}}],children:[(0,i.jsx)(f.f,{id:l}),(0,i.jsx)("g",{clipPath:"url(#".concat(l,")"),children:(0,i.jsx)(z.b,{})}),(0,i.jsx)(V.z,{}),(0,i.jsx)(C.W,{}),(0,i.jsx)(D,{group:e})]})})]},e.Title)},Z=(0,o.A)((0,T.d)(O,P));return(0,i.jsxs)(A.A,{theme:Z,defaultMode:"light",children:[(0,i.jsxs)(j.A,{maxWidth:"lg",children:[(0,i.jsx)(n.A,{container:!0,spacing:2,justifyContent:"center",children:(0,i.jsx)(n.A,{children:(0,i.jsx)(s.A,{gutterBottom:!0,variant:"h5",component:"div",color:"primary",children:(0,i.jsx)("strong",{children:l.Title})})})}),(0,i.jsx)(n.A,{container:!0,spacing:2,children:(0,i.jsx)(p.A,{direction:"row",width:"100%",textAlign:"center",spacing:2,children:(0,i.jsxs)(n.A,{container:!0,size:{xs:12,md:12},children:[l.Reports.map((e,l)=>{if(0===e.Groups.length)return null;let t=e.Groups[0],r=2===e.Groups.length?e.Groups[1]:void 0;return(0,i.jsxs)(n.A,{container:!0,size:{xs:12,md:12},children:[(0,i.jsxs)(n.A,{size:{xs:12,md:12},children:[(0,i.jsx)(n.A,{size:{xs:12,md:12},style:{textAlign:"left",marginTop:"20px"},children:(0,i.jsx)(s.A,{variant:"h5",children:e.Title})}),(0,i.jsx)(n.A,{size:{xs:12,md:12},children:(0,i.jsx)(a.A,{style:{marginBottom:"15px"}})}),e.Desc?e.Desc.map((e,l)=>(0,i.jsx)(n.A,{size:{xs:12,md:12},style:{textAlign:"left",marginBottom:"20px"},children:(0,i.jsx)(s.A,{variant:"caption",color:"secondary",children:e})},l)):null]}),H(t,0!=l),r?Q(r):null]},e.Title)}),(e=>(0,i.jsx)(n.A,{container:!0,size:{xs:12,md:12},style:{marginBottom:"20px"},children:(0,i.jsxs)(n.A,{size:{xs:12,md:12},children:[(0,i.jsx)(n.A,{size:{xs:12,md:12},style:{textAlign:"left"},children:(0,i.jsx)(s.A,{variant:"h5",children:e.Title})}),(0,i.jsx)(n.A,{size:{xs:12,md:12},children:(0,i.jsx)(a.A,{style:{marginBottom:"15px"}})}),e.Desc?e.Desc.map((e,l)=>(0,i.jsx)(n.A,{size:{xs:12,md:12},style:{textAlign:"left"},children:""===e?(0,i.jsx)(s.A,{variant:"caption",color:"secondary",children:"\xa0"}):(0,i.jsx)(s.A,{variant:"caption",color:"secondary",children:e})},l)):null]})},e.Title))(l.Reports[3])]})})}),(0,i.jsxs)(n.A,{size:{xs:12,md:12},container:!0,justifyContent:"space-evenly",alignContent:"flex-start",sx:{marginBottom:"50px"},children:[(0,i.jsx)(g.A,{title:"Voltar e editar a simula\xe7\xe3o atual",arrow:!0,children:(0,i.jsx)(m.A,{variant:"outlined",endIcon:(0,i.jsx)(U.A,{}),onClick:()=>{t("edit"),(0,N.redirect)("calculator")},size:"large",children:"voltar"})}),(0,i.jsx)(g.A,{title:"Exportar simula\xe7\xe3o para Excel",arrow:!0,children:(0,i.jsx)(m.A,{variant:"contained",endIcon:(0,i.jsx)(_.A,{}),size:"large",component:"label",onClick:W,loading:L,children:"Excel"})}),(0,i.jsx)(g.A,{title:"Iniciar o preenchimento de uma nova simula\xe7\xe3o",arrow:!0,children:(0,i.jsx)(m.A,{variant:"outlined",endIcon:(0,i.jsx)(F.A,{}),onClick:()=>E(!0),size:"large",children:"Nova"})})]})]}),(0,i.jsxs)(c.A,{open:I,onClose:()=>E(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(d.A,{id:"alert-dialog-title",children:(0,i.jsx)(s.A,{color:"secondary",children:"Deseja preencher uma nova simula\xe7\xe3o?"})}),(0,i.jsx)(x.A,{children:(0,i.jsx)(u.A,{id:"alert-dialog-description",children:"Ao continuar as informa\xe7\xf5es previamente preenchidas ser\xe3o perdidas."})}),(0,i.jsxs)(h.A,{children:[(0,i.jsx)(m.A,{onClick:()=>E(!1),children:"Cancelar"}),(0,i.jsx)(m.A,{onClick:()=>{t("new"),(0,N.redirect)("calculator")},autoFocus:!0,children:"Continuar"})]})]})]})},W=(0,b.default)(()=>Promise.resolve(P),{ssr:!1})}},e=>{var l=l=>e(e.s=l);e.O(0,[830,346,957,441,684,358],()=>l(11127)),_N_E=e.O()}]);