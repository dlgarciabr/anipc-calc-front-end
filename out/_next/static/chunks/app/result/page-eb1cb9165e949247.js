(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{7267:(e,t,r)=>{var s={"./2002":[8062,833],"./2002.ts":[8062,833]};function l(e){if(!r.o(s,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],l=t[0];return r.e(t[1]).then(()=>r(l))}l.keys=()=>Object.keys(s),l.id=7267,e.exports=l},4863:(e,t,r)=>{Promise.resolve().then(r.bind(r,2916))},2916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>z});var s=r(7437),l=r(2265),n=r(2434),i=r(511),o=r(7318),a=r(9869),u=r(9621),d=r(2197),c=r(8929),p=r(7818),h=r(7610),x=r(8530),m=r(5322),g=r(4504),j=r(2514),v=r(7578),f=r(1276),b=r(6007),y=r(6463),Z=r(7603),V=r(9134),I=r(7316),C=r(8027),O=r(9163),N=r(4881);let D=e=>{let{group:t}=e,r=(0,O.U)(),l=(0,N.YD)();if(!r||!r.identifier||void 0===r.identifier.dataIndex||!l)return null;let n=(null==l?void 0:l.pointerType)==="mouse",o=n?0:40-l.height;return(0,s.jsx)(V.Z,{children:(0,s.jsx)(I.Z,{sx:{pointerEvents:"none",zIndex:e=>e.zIndex.modal},open:!0,placement:n?"top-end":"top",anchorEl:function(e){if(null===e)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};let{x:t,y:r}=e,s={width:0,height:0,x:t,y:r,top:r,right:t,bottom:r,left:t};return{getBoundingClientRect:()=>({...s,toJSON:()=>JSON.stringify(s)})}}(l),modifiers:[{name:"offset",options:{offset:[0,o]}}],children:(0,s.jsx)(C.Z,{elevation:0,sx:{m:1,p:1.5,border:"solid",borderWidth:2,borderColor:"divider"},children:(0,s.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,s.jsx)("div",{style:{width:11,height:11,borderRadius:"50%",backgroundColor:r.color}}),(0,s.jsx)(i.Z,{sx:{ml:2},fontWeight:"light",children:t.Values[r.identifier.dataIndex].Title}),(0,s.jsx)(i.Z,{sx:{ml:2},children:r.formattedValue})]})})})})},G=()=>{let{form:e,result:t}=(0,b.Y)(e=>e),r=l.useId();e.ID&&t||(0,y.redirect)("calculator");let p="#".concat(e.Colors[0]),V="#".concat(e.Colors[1]),I=(e,t)=>{let r=Number(e);return isNaN(r)?e:C(r,t)},C=(e,t)=>new Z.Z(e).toFixed(t).replaceAll(".",","),O=(e,t)=>{let r=e.slice(0,2).reduce((e,t)=>{let{Value:r}=t;return e+Number(r)},0);return 100*Number(e[t].Value)/r},N=(e,t)=>{let r=e.some(e=>"blank"===e.Type);return e.map((e,l)=>(0,s.jsx)(n.Z,{container:!0,size:{xs:12,md:r?12:6},alignItems:"start",children:G(e,t)},l))},G=(e,t)=>e.Values.map(e=>{let r=e.Unit?"".concat(e.Value," ").concat(e.Unit):e.Value;return t&&(r=e.Unit?"".concat(I(e.Value,2)," ").concat(e.Unit):I(e.Value,2)),(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(n.Z,{size:{xs:6,md:6},style:{textAlign:"left"},children:(0,s.jsx)(i.Z,{variant:"h6",color:"secondary",children:(0,s.jsx)("strong",{children:e.Title})})}),(0,s.jsx)(n.Z,{size:{xs:6,md:6},style:{textAlign:"left"},children:(0,s.jsx)(i.Z,{variant:"body1",color:"secondary",children:r})})]},e.Title)}),z=e=>(console.log(e),(0,s.jsx)(n.Z,{container:!0,size:{xs:12,md:12},style:{margin:"30px 0 30px 0",height:"400px"},children:e.map(e=>"graph:bars"===e.Type?T(e):"graph:circular"===e.Type?E(e):void 0)})),E=e=>(0,s.jsxs)(n.Z,{container:!0,size:{xs:12,md:6},children:[(0,s.jsx)(n.Z,{size:{xs:12,md:12},children:(0,s.jsx)(i.Z,{variant:"h6",children:(0,s.jsx)("strong",{children:e.Title})})}),(0,s.jsx)(n.Z,{size:{xs:12,md:12},children:(0,s.jsx)(h.u,{colors:[p,V],series:[{data:[{id:0,value:O(e.Values,0),label:e.Values[0].Title},{id:1,value:O(e.Values,1),label:e.Values[1].Title}],innerRadius:50,outerRadius:120,paddingAngle:5,cornerRadius:5,startAngle:0,cx:120}]})})]}),T=e=>{let t="".concat(r,"-clip-path");return(0,s.jsxs)(n.Z,{container:!0,size:{xs:12,md:6},children:[(0,s.jsx)(n.Z,{size:{xs:12,md:12},children:(0,s.jsx)(i.Z,{variant:"h6",children:(0,s.jsx)("strong",{children:e.Title})})}),(0,s.jsx)(n.Z,{size:{xs:12,md:12},children:(0,s.jsxs)(x.D,{height:300,dataset:[{shortLabel:"Comb. Est.",value:Number(e.Values[0].Value)},{shortLabel:"Comb. Mov.",value:Number(e.Values[1].Value)},{shortLabel:"Emis. Pr. Fg",value:Number(e.Values[2].Value)},{shortLabel:"Emis. Ind.",value:Number(e.Values[3].Value)}],series:[{type:"bar",dataKey:"value"}],xAxis:[{scaleType:"band",dataKey:"shortLabel",colorMap:{type:"ordinal",colors:["#".concat(e.Values[0].Color),"#".concat(e.Values[1].Color),"#".concat(e.Values[2].Color),"#".concat(e.Values[3].Color)]}}],children:[(0,s.jsx)(m.h,{id:t}),(0,s.jsx)("g",{clipPath:"url(#".concat(t,")"),children:(0,s.jsx)(g.E,{})}),(0,s.jsx)(j.U,{}),(0,s.jsx)(v.N,{}),(0,s.jsx)(D,{group:e})]})})]})},w=(0,a.Z)((0,f.W)(p,V));return(0,s.jsx)(u.Z,{theme:w,defaultMode:"light",children:(0,s.jsxs)(d.Z,{maxWidth:"lg",children:[(0,s.jsx)(n.Z,{container:!0,spacing:2,justifyContent:"center",children:(0,s.jsx)(n.Z,{children:(0,s.jsx)(i.Z,{gutterBottom:!0,variant:"h5",component:"div",color:"primary",children:(0,s.jsx)("strong",{children:t.Title})})})}),(0,s.jsx)(n.Z,{container:!0,spacing:2,children:(0,s.jsx)(c.Z,{direction:"row",width:"100%",textAlign:"center",spacing:2,children:(0,s.jsx)(n.Z,{container:!0,size:{xs:12,md:12},children:t.Reports.map((e,t)=>{if(0===e.Groups.length)return null;let r=e.Groups[0],l=2===e.Groups.length?e.Groups[1]:void 0;return(0,s.jsxs)(n.Z,{container:!0,size:{xs:12,md:12},style:{marginBottom:"20px"},children:[(0,s.jsxs)(n.Z,{size:{xs:12,md:12},children:[(0,s.jsx)(n.Z,{size:{xs:12,md:12},style:{textAlign:"left"},children:(0,s.jsx)(i.Z,{variant:"h5",children:(0,s.jsx)("strong",{children:e.Title})})}),(0,s.jsx)(n.Z,{size:{xs:12,md:12},children:(0,s.jsx)(o.Z,{style:{marginBottom:"15px"}})}),e.Desc?e.Desc.map((e,t)=>(0,s.jsx)(n.Z,{size:{xs:12,md:12},style:{textAlign:"left"},children:(0,s.jsx)(i.Z,{variant:"caption",color:"secondary",children:e})},t)):null]}),N(r,0!=t),l?z(l):null]},e.Title)})})})})]})})},z=(0,p.default)(()=>Promise.resolve(G),{ssr:!1})},6007:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var s=r(903);let l=[2002],n=[],i=async(e,t)=>{let s=async()=>(await Promise.all(l.map(async t=>{let s=await r(7267)("./".concat(t)),l=e.getInput(t),i=s.default(l,e);i&&n.push({id:t.toString(),message:i})})),t(n),n.length>0);if(n.length=0,!e||1===e.nextStep)return!1;let i=e.form.Groups[e.nextStep-2];return i.Fields.forEach(t=>{var r;let s=null===(r=e.inputGroups[i.ID])||void 0===r?void 0:r.inputs[t.ID];t.Required&&!s&&n.push({id:t.ID.toString(),message:t.Name+" \xe9 um campo obrigat\xf3rio"}),(t.Required||s&&s.value)&&((s&&t.CustomValue&&!t.Values.some(e=>e===s.value)||!t.Values.length)&&t.Units.length>0&&s&&(!s.unit||"empty"===s.unit)&&n.push({id:"".concat(t.ID,"_un"),message:"Campo obrigat\xf3rio"}),(0===t.Values.length||s&&t.Values.length>0&&t.CustomValue&&!t.Values.some(e=>e===s.value))&&s&&t.Regex&&!new RegExp(t.Regex).test(s.value)&&n.push({id:t.ID.toString(),message:"Campo ".concat(t.Name," inv\xe1lido")}))}),console.log("errors ",n),await s()},o={nextStep:0,form:{ID:"",Groups:[],Title:"",Colors:[],Desc:""},setForm:e=>{console.log(e)},inputGroups:{},setInputGroups:e=>{console.log(e)},getData:()=>({}),setInput:(e,t)=>{console.log(e+t.value)},getInput:e=>{console.log(e)},deleteInput:e=>{console.log(e)},setNextStep:e=>{console.log(e)},hasErrors:()=>Promise.resolve(!1),errors:[],result:void 0,setResult:e=>{console.log(e)}},a=(0,s.U)((e,t)=>({...o,setForm:t=>e(e=>({...e,form:t})),setNextStep:t=>e(e=>({...e,nextStep:t})),setInputGroups:t=>e(e=>({...e,inputGroups:Object.fromEntries(t.map(e=>[e.id,e]))})),getData:()=>({ID:t().form.ID,Groups:Object.values(t().inputGroups).map(e=>({ID:e.id,Values:Object.values(e.inputs).map(e=>({ID:e.id,Value:e.value,Unit:e.unit})).filter(e=>!!e.Value)}))}),errors:[],hasErrors:()=>i(t(),t=>e(e=>({...e,errors:t}))),getInput:e=>{let r=[];return Object.values(t().inputGroups).forEach(e=>r.push(...Object.values(e.inputs))),r.find(t=>t.id===e)||{id:e,value:"",unit:""}},deleteInput:t=>e(e=>{if(!t)return e;let r=Object.values(e.inputGroups).find(e=>Object.values(e.inputs).some(e=>e.id===t));if(!r)return e;let s=Object.values(r.inputs).filter(e=>e.id!==t);return{...e,inputGroups:{...e.inputGroups,[r.id]:{...r,inputs:s}}}}),setInput:(r,s)=>{let{id:l,value:n,unit:i,customValue:o}=s;return e(e=>{let s=t().getInput(l);if(!s)return e;let a={id:l,value:n,unit:i||s.unit,customValue:void 0!=o?o:s.customValue},u=e.inputGroups[r]||{id:r,inputs:{}},d=Object.values(u.inputs).length>0?{...u.inputs,[l]:a}:{[l]:a};return{...e,inputGroups:{...e.inputGroups,[r]:{...u,inputs:d}}}})},setResult:t=>e(e=>({...e,result:t}))}))},1276:(e,t,r)=>{"use strict";r.d(t,{W:()=>l});var s=r(7564);let l=(e,t)=>({palette:{primary:{main:e},secondary:{main:t},background:{default:"#ffffff",paper:"#f5f5f5"}},typography:{allVariants:{color:e}},components:{MuiInputLabel:{styleOverrides:{root:{backgroundColor:"white",padding:"0 10px 0 10px",color:t,["&.".concat(s.Z.focused)]:{color:t}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:e,"&:hover":{borderColor:"red"}}}},MuiButton:{styleOverrides:{outlined:{color:t}}},MuiMenuItem:{styleOverrides:{root:{color:t}}}}})}},e=>{var t=t=>e(e.s=t);e.O(0,[447,497,130,215,744],()=>t(4863)),_N_E=e.O()}]);