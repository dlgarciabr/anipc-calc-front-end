(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{3664:(e,t,i)=>{var u={"./2002":[56343,343],"./2002.ts":[56343,343]};function l(e){if(!i.o(u,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=u[e],l=t[0];return i.e(t[1]).then(()=>i(l))}l.keys=()=>Object.keys(u),l.id=3664,e.exports=l},21156:(e,t,i)=>{"use strict";i.d(t,{k:()=>o});var u=i(12115),l=i(53784),a=i(94703);let o=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Are you sure want to leave this page?";(0,a.A)(e,t),(0,u.useEffect)(()=>{let i=()=>{if(e&&!window.confirm(t))throw"Route Canceled"};return l.default.events.on("beforeHistoryChange",i),()=>{l.default.events.off("beforeHistoryChange",i)}},[e,t])}},22070:(e,t,i)=>{"use strict";i.d(t,{OE:()=>n,Rs:()=>s,Vb:()=>r});var u=i(23464);let l={getForm:!1,calculate:!1},a="https://calc.ghg-impact.eu",o={ID:"ANIPC",Title:"Calculadora de Pegada de Carbono",Desc:"Esta ferramenta de c\xe1lculo de emiss\xf5es de Gases com Efeito de Estufa (GEE) enquadra-se no \xe2mbito do projeto Paper4Neutral - Roteiro para a descarboniza\xe7\xe3o do setor do papel e cart\xe3o desenvolvido pela ANIPC - Associa\xe7\xe3o Nacional dos Industriais do Papel e Cart\xe3o.",Groups:[{ID:1e3,Name:"Dados da Empresa",Desc:"Dados relativos \xe0 empresa",Fields:[{ID:1001,Name:"Ano de C\xe1lculo",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["2021","2022","2023"],CustomValue:!1,Regex:""},{ID:1002,Name:"Nome da Empresa",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,100}$"},{ID:1003,Name:"CAE Principal",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["17110 - Fabrica\xe7\xe3o de pasta","17120 - Fabrica\xe7\xe3o de papel e de cart\xe3o (excepto canelado)","17211 - Fabrica\xe7\xe3o de papel e de cart\xe3o canelados (inclui embalagens)","17212 - Fabrica\xe7\xe3o de outras embalagens de papel e de cart\xe3o","17220 - Fabrica\xe7\xe3o de artigos de papel para uso dom\xe9stico e sanit\xe1rio","17230 - Fabrica\xe7\xe3o de artigos de papel para papelaria","17240 - Fabrica\xe7\xe3o de papel de parede","17290 - Fabrica\xe7\xe3o de outros artigos de pasta de papel, de papel e de cart\xe3o"],CustomValue:!0,Regex:"^[0-9]{5}$"},{ID:1004,Name:"Fileira",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["Fabricantes","Transformadores","Retomadores","Outro"],CustomValue:!1,Regex:""},{ID:1005,Name:"Unidade de Produ\xe7\xe3o",Desc:"Indicar a unidade de produ\xe7\xe3o aplic\xe1vel (e.g., ton., m2)",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,10}$"},{ID:1006,Name:"Produ\xe7\xe3o Anual",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:1007,Name:"Nome do Respons\xe1vel",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^.{1,50}$"},{ID:1008,Name:"E-mail do Respons\xe1vel",Desc:"",Units:[],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^(?=.{1,64}@)[\\w\\-!#$%&'*+\\/=?^_`{|}~]+(\\.[\\w\\-!#$%&'*+\\/=?^_`{|}~]+)*@(\\w+(-+\\w+)*\\.)*(?=.{2,4}$)[a-zA-Z]+(-+[a-zA-Z]+)*$"}]},{ID:2e3,Name:"Consumos de Energia El\xe9trica",Desc:"",Fields:[{ID:2001,Name:"Faturada",Desc:"",Units:[{Unit:"KWh"}],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2002,Name:"Renov\xe1vel (Garantias de Origem)",Desc:'Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de "eletricidade verde" dever\xe1 basear-se em evid\xeancias da respetiva contrata\xe7\xe3o junto do(s) comercializador(es) de energia (incluindo mobilidade el\xe9trica) e/ou de Certificados de Garantia de Origem.',Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2003,Name:"Renov\xe1vel (autoconsumo)",Desc:"Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de eletricidade renov\xe1vel autoconsumida, excluindo a energia excedente.",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2004,Name:"Mobilidade El\xe9trica",Desc:"Se aplic\xe1vel, dever\xe1 ser indicada a quantidade de eletricidade faturada decorrente dos carregamentos efetuados em postos de carregamento fora da empresa.",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:2005,Name:"Outra",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!1,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:3e3,Name:"Combust\xe3o Estacion\xe1ria",Desc:"",Fields:[{ID:3001,Name:"Biomassa (certificada)",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3002,Name:"Biomassa (n\xe3o certificada)",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3003,Name:"G\xe1s natural",Desc:"",Units:[{Unit:"KWh"},{Unit:"m3"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3004,Name:"G\xe1s propano",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3005,Name:"Fuel\xf3leo",Desc:"",Units:[{Unit:"Ton"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3006,Name:"Gas\xf3leo (aquecimento)",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:3007,Name:"Outro (Renov\xe1vel)",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:4e3,Name:"Combust\xe3o M\xf3vel (Frota)",Desc:"",Fields:[{ID:4001,Name:"Gas\xf3leo",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4002,Name:"Gasolina",Desc:"",Units:[{Unit:"litros"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4003,Name:"G\xe1s Propano",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:4004,Name:"Outro (Renov\xe1vel)",Desc:"",Units:[{Unit:"KWh"}],Required:!1,MultiField:!0,MultiFieldGroup:"",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:5e3,Name:"Consumo de Solventes",Desc:"",Fields:[{ID:5001,Name:"Solventes",Desc:"Dever\xe1 ser indicado o consumo de solventes calculado de acordo com a metodologia disposta na legisla\xe7\xe3o e regulamenta\xe7\xe3o aplic\xe1veis. Caso n\xe3o existam consumos de solventes para o ano em an\xe1lise, dever\xe1 ser selecionada a op\xe7\xe3o N/A.",Units:[{Unit:"Kg"}],Required:!0,MultiField:!1,MultiFieldGroup:"",Values:["N/A"],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]},{ID:6e3,Name:"Consumo de Flu\xeddos Refrigerantes",Desc:"",Fields:[{ID:6001,Name:"HFC-125",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6002,Name:"HFC-134",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6003,Name:"HFC-143",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6004,Name:"HFC-143a",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6005,Name:"HFC-152a",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6006,Name:"HFC-227ea",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6007,Name:"HFC-23",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6008,Name:"HFC-236fa",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6009,Name:"HFC-245fa",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6010,Name:"HFC-41",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6011,Name:"HFC-43-I0mee",Desc:"",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6012,Name:"R134a",Desc:"Designado como HFC-134a",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6013,Name:"R32",Desc:"Designado como HFC-32",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6014,Name:"R404A",Desc:"Blend 52:44:4 [HFC-143a, HFC-125, HFC-134a]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6015,Name:"R407C",Desc:"Blend 23:25:52 [HFC-32, HFC-125, HFC-134a]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6016,Name:"R410A",Desc:"Blend 50:50 [HFC-32, HFC-125]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6017,Name:"R427A",Desc:"Blend 15:25:10:50 [HFC-32, HFC-125, HFC-134a, HFC-143]",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"HFC (Hydrofluorocarbons)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6018,Name:"PFC-116 (Perfluoroethane)",Desc:"C2F6",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6019,Name:"PFC-14 (Perfluoromethane)",Desc:"CF4",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6020,Name:"PFC-218 (Perfluoropropane)",Desc:"C3F8",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6021,Name:"PFC-31-10 (Perfluorobutane)",Desc:"C4F10",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6022,Name:"PFC-318 (Perfluorocyclobutane)",Desc:"c-C4F8",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6023,Name:"PFC-41-12 (Perfluoropentane)",Desc:"C5F12",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6024,Name:"PFC-51-14 (Perfluorohexane)",Desc:"C6F14",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"PFC (Fully Fluorinated Species)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"},{ID:6025,Name:"SF6 (Sulphur hexafluoride)",Desc:"SF6",Units:[{Unit:"Kg"}],Required:!1,MultiField:!0,MultiFieldGroup:"SF6 (Sulphur Hexafluoride)",Values:[],CustomValue:!0,Regex:"^[1-9][0-9]{0,11}(,[0-9]{1,9})?$"}]}]},s=async(e,t)=>{let i="".concat(a,"/form.php?id=").concat(e);return(t&&(u.A.defaults.headers.common={token_login:t}),l.getForm)?Promise.resolve(o):(await (0,u.A)({method:"get",url:i})).data},r=async e=>l.calculate?Promise.reject():(await (0,u.A)({method:"post",url:"".concat(a,"/calc.php"),data:e})).data,n=async e=>{let t=await (0,u.A)({method:"post",url:"".concat(a,"/export.php"),data:e,responseType:"blob"});return{name:t.headers["content-disposition"].match(/filename="([^"]+)"/)[1],content:t.data}}},25471:(e,t,i)=>{"use strict";i.d(t,{d:()=>l});var u=i(48350);let l=(e,t)=>({palette:{primary:{main:e},secondary:{main:t},background:{default:"#ffffff",paper:"#f5f5f5"}},typography:{allVariants:{color:e}},components:{MuiInputLabel:{styleOverrides:{root:{backgroundColor:"white",padding:"0 10px 0 10px",color:t,["&.".concat(u.A.focused)]:{color:t}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:e,"&:hover":{borderColor:"red"}}}},MuiButton:{styleOverrides:{outlined:{color:t}}},MuiMenuItem:{styleOverrides:{root:{color:t}}}}})},34503:(e,t,i)=>{"use strict";i.d(t,{Li:()=>u,h7:()=>a,su:()=>l});let u=e=>{if(e instanceof Map){let t={};for(let[i,l]of e)t[String(i)]=u(l);return t}if(Array.isArray(e))return e.map(e=>u(e));if(null!==e&&"object"==typeof e){let t={};for(let[i,l]of Object.entries(e))t[i]=u(l);return t}return e},l=e=>{let t=u(e),i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(t))),i.setAttribute("download","calculadora.json"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},a=async e=>{var t;if(!(null===(t=e.target.files)||void 0===t?void 0:t.length))return{};let i=e.target.files[0];if("application/json"!=i.type)return{errorMessage:"Ficheiro inv\xe1lido"};let u=new Map,l=await new Response(i).json();return Object.keys(l).forEach(e=>{let t=l[parseInt(e)],i={id:t.id,name:t.name,inputs:new Map};Object.keys(t.inputs).forEach(e=>{let u=t.inputs[parseInt(e)],l={id:u.id,value:u.value,unit:u.unit,customValue:u.customValue};i.inputs.set(parseInt(e),l)}),u.set(i.id,i)}),{data:u}}},41226:()=>{},52282:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});var u=i(65453);let l=[2002],a=[],o=async(e,t)=>{let u=async()=>(await Promise.all(l.map(async t=>{let u=await i(3664)("./".concat(t)),l=e.getInput(t),o=u.default(l,e);o&&a.push({id:t.toString(),message:o})})),t(a),a.length>0);if(a.length=0,!e||1===e.nextStep)return!1;let o=e.form.Groups[e.nextStep-2];return o.Fields.forEach(t=>{var i;if(!1===t.CustomValue&&1===t.Values.length)return;let u=null===(i=e.inputGroups.get(o.ID))||void 0===i?void 0:i.inputs.get(t.ID);t.Required&&!u&&a.push({id:t.ID.toString(),message:t.Name+" \xe9 um campo obrigat\xf3rio"}),(t.Required||u&&u.value)&&((u&&t.CustomValue&&!t.Values.some(e=>e===u.value)||!t.Values.length)&&t.Units.length>0&&u&&(!u.unit||"empty"===u.unit)&&a.push({id:"".concat(t.ID,"_un"),message:"Campo obrigat\xf3rio"}),(0===t.Values.length||u&&t.Values.length>0&&t.CustomValue&&!t.Values.some(e=>e===u.value))&&u&&t.Regex&&!new RegExp(t.Regex).test(u.value)&&a.push({id:t.ID.toString(),message:"Campo ".concat(t.Name," inv\xe1lido")}))}),await u()};var s=i(34503);let r={routerParam:"",nextStep:0,form:{ID:"",Groups:[],Title:"",Colors:[],Desc:"",Disclaimer:""},setForm:e=>{console.log(e)},inputGroups:new Map,setInputGroups:e=>{console.log(e)},getData:()=>({}),setInput:(e,t)=>{console.log(e+t.value)},getInput:e=>{console.log(e)},deleteInput:(e,t)=>{console.log(e+t)},setNextStep:e=>{console.log(e)},hasErrors:()=>Promise.resolve(!1),errors:[],result:void 0,setResult:e=>{console.log(e)},setRouterParam:e=>{console.log(e)}},n=(0,u.v)((e,t)=>({...r,setForm:t=>e(e=>{let i=new Map;return t.Groups.forEach(e=>{e.Fields.forEach(t=>{let u=1===t.Values.length,l=i.get(e.ID);l||(l={id:e.ID,name:e.Name,inputs:new Map}),u&&l.inputs.set(t.ID,{id:t.ID,value:t.Values[0]}),i.set(e.ID,l)})}),{...e,form:t,inputGroups:i}}),setInputGroups:t=>e(e=>({...e,inputGroups:t})),setNextStep:t=>e(e=>({...e,nextStep:t})),getData:()=>({ID:t().form.ID,Groups:Array.from(t().inputGroups.values()).map(e=>({ID:e.id,Values:Array.from(e.inputs.values()).map(e=>({ID:e.id,Value:e.value,Unit:e.unit})).filter(e=>!!e.Value)})),formData:(0,s.Li)(t().inputGroups)}),errors:[],hasErrors:()=>o(t(),t=>e(e=>({...e,errors:t}))),getInput:e=>{let i=[];Array.from(t().inputGroups.values()).forEach(e=>i.push(...Array.from(e.inputs.values())));let u=i.find(t=>t.id===e);return u||{id:e,value:"",unit:""}},deleteInput:(t,i)=>e(e=>{if(!i)return e;let u=e.inputGroups.get(t);return u?(u.inputs.delete(i),{...e,inputGroups:e.inputGroups.set(t,u)}):e}),setInput:(i,u)=>{let{id:l,value:a,unit:o,customValue:s}=u;return e(e=>{let u=t().getInput(l);if(!u)return e;let r={id:l,value:a,unit:o||u.unit,customValue:void 0!=s?s:u.customValue},n=e.inputGroups.get(i)||{id:i,name:"",inputs:new Map};return n.inputs.set(l,r),{...e,inputGroups:e.inputGroups.set(i,n)}})},setResult:t=>e(e=>({...e,result:t})),setRouterParam:t=>e(e=>({...e,routerParam:t}))}))}}]);